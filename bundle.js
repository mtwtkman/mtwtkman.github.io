!function(n){function t(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return n[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var i=e(1),o=r(i),a=e(3),u=r(a),l=e(6),s=r(l),c=e(26),f=r(c),h=e(31),p=r(h);o["default"].route.mode="hash",o["default"].route(document.getElementById("main"),"/",{"/":u["default"],"/blog":s["default"],"/blog/article/:date.../:slug":f["default"],"/blog/tag/:name":p["default"]})},function(n,t,e){var r;(function(n){!function(i,o){"use strict";var a=o(i);"object"==typeof n&&null!=n&&n.exports?n.exports=a:(r=function(){return a}.call(t,e,t,n),!(void 0!==r&&(n.exports=r)))}("undefined"!=typeof window?window:{},function(n,t){"use strict";function e(n){return"function"==typeof n}function r(n){return"[object Object]"===On.call(n)}function i(n){return"[object String]"===On.call(n)}function o(){}function a(n){xn=n.document,kn=n.location,An=n.cancelAnimationFrame||n.clearTimeout,jn=n.requestAnimationFrame||n.setTimeout}function u(n,t){for(var e,r=[],i=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g;e=i.exec(t);)if(""===e[1]&&e[2])n.tag=e[2];else if("#"===e[1])n.attrs.id=e[2];else if("."===e[1])r.push(e[2]);else if("["===e[3][0]){var o=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/.exec(e[3]);n.attrs[o[1]]=o[3]||(o[2]?"":!0)}return r}function l(n,t){var e=t?n.slice(1):n;return 1===e.length&&En(e[0])?e[0]:e}function s(n,t,e){var r="class"in t?"class":"className";for(var i in t)Cn.call(t,i)&&(i===r&&null!=t[i]&&""!==t[i]?(e.push(t[i]),n[i]=""):n[i]=t[i]);e.length&&(n[r]=e.join(" "))}function c(n,t){var e=[].slice.call(arguments,1);if(r(n))return tn(n,e);if(!i(n))throw new Error("selector in m(selector, attrs, children) should be a string");var o=null!=t&&r(t)&&!("tag"in t||"view"in t||"subtree"in t),a=o?t:{},c={tag:"div",attrs:{},children:l(e,o)};return s(c.attrs,a,u(c,n)),c}function f(n,t){for(var e=0;e<n.length&&!t(n[e],e++););}function h(n,t){f(n,function(n,e){return(n=n&&n.attrs)&&null!=n.key&&t(n,e)})}function p(n){try{if(null!=n&&null!=n.toString())return n}catch(t){}return""}function d(n,t,e,r){try{v(n,t,e),t.nodeValue=r}catch(i){}}function g(n){for(var t=0;t<n.length;t++)En(n[t])&&(n=n.concat.apply([],n),t--);return n}function v(n,t,e){n.insertBefore(t,n.childNodes[e]||null)}function m(n,t,e,r){h(n,function(n,r){t[n=n.key]=t[n]?{action:Pn,index:r,from:t[n].index,element:e.nodes[t[n].index]||xn.createElement("div")}:{action:In,index:r}});var i=[];for(var o in t)Cn.call(t,o)&&i.push(t[o]);var a=i.sort(B),u=new Array(e.length);return u.nodes=e.nodes.slice(),f(a,function(t){var i=t.index;if(t.action===Rn&&(V(e[i].nodes,e[i]),u.splice(i,1)),t.action===In){var o=xn.createElement("div");o.key=n[i].attrs.key,v(r,o,i),u.splice(i,0,{attrs:{key:n[i].attrs.key},nodes:[o]}),u.nodes[i]=o}if(t.action===Pn){var a=t.element,l=r.childNodes[i];l!==a&&null!==a&&r.insertBefore(a,l||null),u[i]=e[t.from],u.nodes[i]=a}}),u}function _(n,t,e,r){var i=n.length!==t.length;return i||h(n,function(n,e){var r=t[e];return i=r&&r.attrs&&r.attrs.key!==n.key}),i?m(n,e,t,r):t}function y(n,t,e){f(n,function(n,r){null!=t[r]&&e.push.apply(e,t[r].nodes)}),f(t.nodes,function(n,r){null!=n.parentNode&&e.indexOf(n)<0&&V([n],[t[r]])}),n.length<t.length&&(t.length=n.length),t.nodes=e}function b(n){var t=0;h(n,function(){return f(n,function(n){(n=n&&n.attrs)&&null==n.key&&(n.key="__mithril__"+t++)}),1})}function w(n,t,e){return n.tag!==t.tag?!0:e.sort().join()!==Object.keys(t.attrs).sort().join()?!0:n.attrs.id!==t.attrs.id?!0:n.attrs.key!==t.attrs.key?!0:"all"===c.redraw.strategy()?!t.configContext||t.configContext.retain!==!0:"diff"===c.redraw.strategy()?t.configContext&&t.configContext.retain===!1:!1}function x(n,t,r){w(n,t,r)&&(t.nodes.length&&V(t.nodes),t.configContext&&e(t.configContext.onunload)&&t.configContext.onunload(),t.controllers&&f(t.controllers,function(n){n.onunload&&n.onunload({preventDefault:o})}))}function k(n,t){return n.attrs.xmlns?n.attrs.xmlns:"svg"===n.tag?"http://www.w3.org/2000/svg":"math"===n.tag?"http://www.w3.org/1998/Math/MathML":t}function j(n,t,e){e.length&&(n.views=t,n.controllers=e,f(e,function(n){if(n.onunload&&n.onunload.$old&&(n.onunload=n.onunload.$old),Tn&&n.onunload){var t=n.onunload;n.onunload=o,n.onunload.$old=t}}))}function A(n,t,r,i,o){if(e(t.attrs.config)){var a=o.configContext=o.configContext||{};n.push(function(){return t.attrs.config.call(t,r,!i,a,o)})}}function C(n,e,r,i,o,a,u,l){var s=n.nodes[0];return i&&G(s,e.tag,e.attrs,n.attrs,o),n.children=U(s,e.tag,t,t,e.children,n.children,!1,0,e.attrs.contenteditable?s:r,o,u),n.nodes.intact=!0,l.length&&(n.views=a,n.controllers=l),s}function O(n,t,e){var r;n.$trusted?r=Z(t,e,n):(r=[xn.createTextNode(n)],t.nodeName in Sn||v(t,r[0],e));var i;return i="string"==typeof n||"number"==typeof n||"boolean"==typeof n?new n.constructor(n):n,i.nodes=r,i}function E(n,t,e,r,i,o){var a=t.nodes;return r&&r===xn.activeElement||(n.$trusted?(V(a,t),a=Z(e,i,n)):"textarea"===o?e.value=n:r?r.innerHTML=n:((1===a[0].nodeType||a.length>1||a[0].nodeValue.trim&&!a[0].nodeValue.trim())&&(V(t.nodes,t),a=[xn.createTextNode(n)]),d(e,a[0],i,n))),t=new n.constructor(n),t.nodes=a,t}function S(n,t,e,r,i,o,a){return n.nodes.length?n.valueOf()!==t.valueOf()||i?E(t,n,r,o,e,a):(n.nodes.intact=!0,n):O(t,r,e)}function R(n){if(n.$trusted){var t=n.match(/<[^\/]|\>\s*[^<]/g);if(null!=t)return t.length}else if(En(n))return n.length;return 1}function I(n,e,r,i,o,a,u,l,s){n=g(n);var c=[],f=e.length===n.length,p=0,d={},v=!1;h(e,function(n,t){v=!0,d[e[t].attrs.key]={action:Rn,index:t}}),b(n),v&&(e=_(n,e,d,r));for(var m=0,w=0,x=n.length;x>w;w++){var k=U(r,o,e,i,n[w],e[m],a,i+p||p,u,l,s);k!==t&&(f=f&&k.nodes.intact,p+=R(k),e[m++]=k)}return f||y(n,e,c),e}function P(n,t,e,r,i){if(null!=t){if(On.call(t)===On.call(n))return t;if(i&&i.nodes){var o=e-r,a=o+(En(n)?n:t.nodes).length;V(i.nodes.slice(o,a),i.slice(o,a))}else t.nodes&&V(t.nodes,t)}return t=new n.constructor,t.tag&&(t={}),t.nodes=[],t}function T(n,t){return n.attrs.is?null==t?xn.createElement(n.tag,n.attrs.is):xn.createElementNS(t,n.tag,n.attrs.is):null==t?xn.createElement(n.tag):xn.createElementNS(t,n.tag)}function M(n,t,e,r){return r?G(t,n.tag,n.attrs,{},e):n.attrs}function L(n,e,r,i,o,a){return null!=n.children&&n.children.length>0?U(e,n.tag,t,t,n.children,r.children,!0,0,n.attrs.contenteditable?e:i,o,a):n.children}function $(n,t,e,r,i,o,a){var u={tag:n.tag,attrs:t,children:e,nodes:[r]};return j(u,o,a),u.children&&!u.children.nodes&&(u.children.nodes=[]),"select"===n.tag&&"value"in n.attrs&&G(r,n.tag,{value:n.attrs.value},{},i),u}function z(n,t,r,i){var o;return o="diff"===c.redraw.strategy()&&n?n.indexOf(t):-1,o>-1?r[o]:e(i)?new i:{}}function F(n,t,e,r){null!=r.onunload&&Ln.map(function(n){return n.handler}).indexOf(r.onunload)<0&&Ln.push({controller:r,handler:r.onunload}),n.push(e),t.push(r)}function N(n,t,e,r,i,o){var a=z(e.views,t,r,n.controller),u=n&&n.attrs&&n.attrs.key;return n=0===Tn||$n||r&&r.indexOf(a)>-1?n.view(a):{tag:"placeholder"},"retain"===n.subtree?n:(n.attrs=n.attrs||{},n.attrs.key=u,F(o,i,t,a),n)}function D(n,t,e,r){for(var i=t&&t.controllers;null!=n.view;)n=N(n,n.view.$original||n.view,t,i,r,e);return n}function q(n,t,e,r,o,a,u,l){var s=[],c=[];if(n=D(n,t,s,c),"retain"===n.subtree)return t;if(!n.tag&&c.length)throw new Error("Component template must return a virtual element, not an array, string, etc.");n.attrs=n.attrs||{},t.attrs=t.attrs||{};var f=Object.keys(n.attrs),h=f.length>("key"in n.attrs?1:0);if(x(n,t,f),i(n.tag)){var p=0===t.nodes.length;u=k(n,u);var d;if(p){d=T(n,u);var g=M(n,d,u,h),m=L(n,d,t,e,u,l);t=$(n,g,m,d,u,s,c)}else d=C(t,n,e,h,u,s,l,c);return(p||a===!0&&null!=d)&&v(r,d,o),A(l,n,d,p,t),t}}function U(n,t,i,o,a,u,l,s,c,f,h){return a=p(a),"retain"===a.subtree?u:(u=P(a,u,s,o,i),En(a)?I(a,u,n,s,t,l,c,f,h):null!=a&&r(a)?q(a,u,c,n,s,l,f,h):e(a)?u:S(u,a,s,n,l,c,t))}function B(n,t){return n.action-t.action||n.index-t.index}function W(n,t,e){for(var r in t)Cn.call(t,r)&&(null!=e&&e[r]===t[r]||(n.style[r]=t[r]));for(r in e)Cn.call(e,r)&&(Cn.call(t,r)||(n.style[r]=""))}function H(n,t,i,o,a,u){if("config"===t||"key"===t)return!0;if(e(i)&&"on"===t.slice(0,2))n[t]=Q(i,n);else if("style"===t&&null!=i&&r(i))W(n,i,o);else if(null!=u)"href"===t?n.setAttributeNS("http://www.w3.org/1999/xlink","href",i):n.setAttribute("className"===t?"class":t,i);else if(t in n&&!zn[t])try{"input"===a&&n[t]===i||(n[t]=i)}catch(l){n.setAttribute(t,i)}else n.setAttribute(t,i)}function K(n,t,e,r,i,o,a){if(t in i&&r===e)"value"===t&&"input"===o&&n.value!==e&&(n.value=e);else{i[t]=e;try{return H(n,t,e,r,o,a)}catch(u){if(u.message.indexOf("Invalid argument")<0)throw u}}}function G(n,t,e,r,i){for(var o in e)if(Cn.call(e,o)&&K(n,o,e[o],r[o],r,t,i))continue;return r}function V(n,t){for(var e=n.length-1;e>-1;e--)if(n[e]&&n[e].parentNode){try{n[e].parentNode.removeChild(n[e])}catch(r){}t=[].concat(t),t[e]&&J(t[e])}n.length&&(n.length=0)}function J(n){n.configContext&&e(n.configContext.onunload)&&(n.configContext.onunload(),n.configContext.onunload=null),n.controllers&&f(n.controllers,function(n){e(n.onunload)&&n.onunload({preventDefault:o})}),n.children&&(En(n.children)?f(n.children,J):n.children.tag&&J(n.children))}function Y(n,t){try{n.appendChild(xn.createRange().createContextualFragment(t))}catch(e){n.insertAdjacentHTML("beforeend",t)}}function Z(n,t,e){var r=n.childNodes[t];if(r){var i=1!==r.nodeType,o=xn.createElement("span");i?(n.insertBefore(o,r||null),o.insertAdjacentHTML("beforebegin",e),n.removeChild(o)):r.insertAdjacentHTML("beforebegin",e)}else Y(n,e);for(var a=[];n.childNodes[t]!==r;)a.push(n.childNodes[t]),t++;return a}function Q(n,t){return function(e){e=e||event,c.redraw.strategy("diff"),c.startComputation();try{return n.call(t,e)}finally{an()}}}function X(n){var t=Nn.indexOf(n);return 0>t?Nn.push(n)-1:t}function nn(n){function t(){return arguments.length&&(n=arguments[0]),n}return t.toJSON=function(){return n},t}function tn(n,t){function e(){return(n.controller||o).apply(this,t)||this}function r(e){for(var r=[e].concat(t),i=1;i<arguments.length;i++)r.push(arguments[i]);return n.view.apply(n,r)}n.controller&&(e.prototype=n.controller.prototype),r.$original=n.view;var i={controller:e,view:r};return t[0]&&null!=t[0].key&&(i.attrs={key:t[0].key}),i}function en(n,t,e,r){if(!r){c.redraw.strategy("all"),c.startComputation(),Un[e]=t;var i;i=qn=n?n:n={controller:o};var a=new(n.controller||o);return i===qn&&(Wn[e]=a,Bn[e]=n),an(),null===n&&rn(t,e),Wn[e]}null==n&&rn(t,e)}function rn(n,t){Un.splice(t,1),Wn.splice(t,1),Bn.splice(t,1),pn(n),Nn.splice(X(n),1)}function on(){Gn&&(Gn(),Gn=null),f(Un,function(n,t){var e=Bn[t];if(Wn[t]){var r=[Wn[t]];c.render(n,e.view?e.view(Wn[t],r):"")}}),Vn&&(Vn(),Vn=null),Hn=null,Kn=new Date,c.redraw.strategy("diff")}function an(){"none"===c.redraw.strategy()?(Tn--,c.redraw.strategy("diff")):c.endComputation()}function un(n){return n.slice(Xn[c.route.mode].length)}function ln(n,t,e){Zn={};var r=e.indexOf("?");-1!==r&&(Zn=hn(e.substr(r+1,e.length)),e=e.substr(0,r));var i=Object.keys(t),o=i.indexOf(e);if(-1!==o)return c.mount(n,t[i[o]]),!0;for(var a in t)if(Cn.call(t,a)){if(a===e)return c.mount(n,t[a]),!0;var u=new RegExp("^"+a.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(u.test(e))return e.replace(u,function(){var e=a.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2);f(e,function(n,t){Zn[n.replace(/:|\./g,"")]=decodeURIComponent(r[t])}),c.mount(n,t[a])}),!0}}function sn(n){if(n=n||event,!(n.ctrlKey||n.metaKey||n.shiftKey||2===n.which)){n.preventDefault?n.preventDefault():n.returnValue=!1;var t,e=n.currentTarget||n.srcElement;for(t="pathname"===c.route.mode&&e.search?hn(e.search.slice(1)):{};e&&!/a/i.test(e.nodeName);)e=e.parentNode;Tn=0,c.route(e[c.route.mode].slice(Xn[c.route.mode].length),t)}}function cn(){"hash"!==c.route.mode&&kn.hash?kn.hash=kn.hash:n.scrollTo(0,0)}function fn(n,e){var i={},o=[];for(var a in n)if(Cn.call(n,a)){var u=e?e+"["+a+"]":a,l=n[a];if(null===l)o.push(encodeURIComponent(u));else if(r(l))o.push(fn(l,u));else if(En(l)){var s=[];i[u]=i[u]||{},f(l,function(n){i[u][n]||(i[u][n]=!0,s.push(encodeURIComponent(u)+"="+encodeURIComponent(n)))}),o.push(s.join("&"))}else l!==t&&o.push(encodeURIComponent(u)+"="+encodeURIComponent(l))}return o.join("&")}function hn(n){if(""===n||null==n)return{};"?"===n.charAt(0)&&(n=n.slice(1));var t=n.split("&"),e={};return f(t,function(n){var t=n.split("="),r=decodeURIComponent(t[0]),i=2===t.length?decodeURIComponent(t[1]):null;null!=e[r]?(En(e[r])||(e[r]=[e[r]]),e[r].push(i)):e[r]=i}),e}function pn(n){var e=X(n);V(n.childNodes,Dn[e]),Dn[e]=t}function dn(n,t){var e=c.prop(t);return n.then(e),e.then=function(e,r){return dn(n.then(e,r),t)},e["catch"]=e.then.bind(null,null),e}function gn(n,t){function i(n){l=n||ot,f.map(function(n){l===it?n.resolve(s):n.reject(s)})}function o(n,t,i,o){if((null!=s&&r(s)||e(s))&&e(n))try{var a=0;n.call(s,function(n){a++||(s=n,t())},function(n){a++||(s=n,i())})}catch(u){c.deferred.onerror(u),s=u,i()}else o()}function a(){var r;try{r=s&&s.then}catch(f){return c.deferred.onerror(f),s=f,l=rt,a()}l===rt&&c.deferred.onerror(s),o(r,function(){l=et,a()},function(){l=rt,a()},function(){try{l===et&&e(n)?s=n(s):l===rt&&e(t)&&(s=t(s),l=et)}catch(a){return c.deferred.onerror(a),s=a,i()}s===u?(s=TypeError(),i()):o(r,function(){i(it)},i,function(){i(l===et&&it)})})}var u=this,l=0,s=0,f=[];u.promise={},u.resolve=function(n){return l||(s=n,l=et,a()),u},u.reject=function(n){return l||(s=n,l=rt,a()),u},u.promise.then=function(n,t){var e=new gn(n,t);return l===it?e.resolve(s):l===ot?e.reject(s):f.push(e),e.promise}}function vn(n){return n}function mn(e){var r="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),i=xn.createElement("script");n[r]=function(o){i.parentNode.removeChild(i),e.onload({type:"load",target:{responseText:o}}),n[r]=t},i.onerror=function(){return i.parentNode.removeChild(i),e.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),n[r]=t,!1},i.onload=function(){return!1},i.src=e.url+(e.url.indexOf("?")>0?"&":"?")+(e.callbackKey?e.callbackKey:"callback")+"="+r+"&"+fn(e.data||{}),xn.body.appendChild(i)}function _n(t){var r=new n.XMLHttpRequest;if(r.open(t.method,t.url,!0,t.user,t.password),r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?t.onload({type:"load",target:r}):t.onerror({type:"error",target:r}))},t.serialize===JSON.stringify&&t.data&&"GET"!==t.method&&r.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.deserialize===JSON.parse&&r.setRequestHeader("Accept","application/json, text/*"),e(t.config)){var o=t.config(r,t);null!=o&&(r=o)}var a="GET"!==t.method&&t.data?t.data:"";if(a&&!i(a)&&a.constructor!==n.FormData)throw new Error("Request data should be either be a string or FormData. Check the `serialize` option in `m.request`");return r.send(a),r}function yn(n){return n.dataType&&"jsonp"===n.dataType.toLowerCase()?mn(n):_n(n)}function bn(n,t,e){if("GET"===n.method&&"jsonp"!==n.dataType){var r=n.url.indexOf("?")<0?"?":"&",i=fn(t);n.url+=i?r+i:""}else n.data=e(t)}function wn(n,t){return t&&(n=n.replace(/:[a-z]\w+/gi,function(n){var e=n.slice(1),r=t[e];return delete t[e],r})),n}c.version=function(){return"v0.2.3"};var xn,kn,jn,An,Cn={}.hasOwnProperty,On={}.toString,En=Array.isArray||function(n){return"[object Array]"===On.call(n)},Sn={AREA:1,BASE:1,BR:1,COL:1,COMMAND:1,EMBED:1,HR:1,IMG:1,INPUT:1,KEYGEN:1,LINK:1,META:1,PARAM:1,SOURCE:1,TRACK:1,WBR:1};c.deps=function(t){return a(n=t||window),n},c.deps(n);var Rn=1,In=2,Pn=3,Tn=0;c.startComputation=function(){Tn++},c.endComputation=function(){Tn>1?Tn--:(Tn=0,c.redraw())};var Mn,Ln=[],$n=!1,zn={list:1,style:1,form:1,type:1,width:1,height:1},Fn={appendChild:function(n){Mn===t&&(Mn=xn.createElement("html")),xn.documentElement&&xn.documentElement!==n?xn.replaceChild(n,xn.documentElement):xn.appendChild(n),this.childNodes=xn.childNodes},insertBefore:function(n){this.appendChild(n)},childNodes:[]},Nn=[],Dn={};c.render=function(n,e,r){if(!n)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var i,o=[],a=X(n),u=n===xn;i=u||n===xn.documentElement?Fn:n,u&&"html"!==e.tag&&(e={tag:"html",attrs:{},children:e}),Dn[a]===t&&V(i.childNodes),r===!0&&pn(n),Dn[a]=U(i,null,t,t,e,Dn[a],!1,0,null,t,o),f(o,function(n){n()})},c.trust=function(n){return n=new String(n),n.$trusted=!0,n},c.prop=function(n){return(null!=n&&r(n)||e(n))&&e(n.then)?dn(n):nn(n)};var qn,Un=[],Bn=[],Wn=[],Hn=null,Kn=0,Gn=null,Vn=null,Jn=16;c.component=function(n){var t=[].slice.call(arguments,1);return tn(n,t)},c.mount=c.module=function(n,t){if(!n)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var r=Un.indexOf(n);0>r&&(r=Un.length);var i=!1,o={preventDefault:function(){i=!0,Gn=Vn=null}};return f(Ln,function(n){n.handler.call(n.controller,o),n.controller.onunload=null}),i?f(Ln,function(n){n.controller.onunload=n.handler}):Ln=[],Wn[r]&&e(Wn[r].onunload)&&Wn[r].onunload(o),en(t,n,r,i)};var Yn=!1;c.redraw=function(t){if(!Yn){Yn=!0,t&&($n=!0);try{Hn&&!t?(jn===n.requestAnimationFrame||new Date-Kn>Jn)&&(Hn>0&&An(Hn),Hn=jn(on,Jn)):(on(),Hn=jn(function(){Hn=null},Jn))}finally{Yn=$n=!1}}},c.redraw.strategy=c.prop(),c.withAttr=function(n,t,e){return function(r){r=r||event;var i=r.currentTarget||this,o=e||this,a=n in i?i[n]:i.getAttribute(n);t.call(o,a)}};var Zn,Qn,Xn={pathname:"",hash:"#",search:"?"},nt=o,tt=!1;c.route=function(t,e,r,o){if(0===arguments.length)return Qn;if(3===arguments.length&&i(e)){nt=function(n){var i=Qn=un(n);if(!ln(t,r,i)){if(tt)throw new Error("Ensure the default route matches one of the routes defined in m.route");tt=!0,c.route(e,!0),tt=!1}};var a="hash"===c.route.mode?"onhashchange":"onpopstate";return n[a]=function(){var n=kn[c.route.mode];"pathname"===c.route.mode&&(n+=kn.search),Qn!==un(n)&&nt(n)},Gn=cn,void n[a]()}if(t.addEventListener||t.attachEvent){var u="pathname"!==c.route.mode?kn.pathname:"";return t.href=u+Xn[c.route.mode]+o.attrs.href,void(t.addEventListener?(t.removeEventListener("click",sn),t.addEventListener("click",sn)):(t.detachEvent("onclick",sn),t.attachEvent("onclick",sn)))}if(i(t)){var l=Qn;Qn=t;var s,f=e||{},h=Qn.indexOf("?");s=h>-1?hn(Qn.slice(h+1)):{};for(var p in f)Cn.call(f,p)&&(s[p]=f[p]);var d,g=fn(s);d=h>-1?Qn.slice(0,h):Qn,g&&(Qn=d+(-1===d.indexOf("?")?"?":"&")+g);var v=(3===arguments.length?r:e)===!0||l===t;if(n.history.pushState){var m=v?"replaceState":"pushState";Gn=cn,Vn=function(){n.history[m](null,xn.title,Xn[c.route.mode]+Qn)},nt(Xn[c.route.mode]+Qn)}else kn[c.route.mode]=Qn,nt(Xn[c.route.mode]+Qn)}},c.route.param=function(n){if(!Zn)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return n?Zn[n]:Zn},c.route.mode="search",c.route.buildQueryString=fn,c.route.parseQueryString=hn,c.deferred=function(){var n=new gn;return n.promise=dn(n.promise),n};var et=1,rt=2,it=3,ot=4;return c.deferred.onerror=function(n){if("[object Error]"===On.call(n)&&!/ Error/.test(n.constructor.toString()))throw Tn=0,n},c.sync=function(n){function t(n,t){return function(a){return i[n]=a,t||(o="reject"),0===--r&&(e.promise(i),e[o](i)),a}}var e=c.deferred(),r=n.length,i=new Array(r),o="resolve";return n.length>0?f(n,function(n,e){n.then(t(e,!0),t(e,!1))}):e.resolve([]),e.promise},c.request=function(n){n.background!==!0&&c.startComputation();var t,e,r,i=new gn,o=n.dataType&&"jsonp"===n.dataType.toLowerCase();return o?(t=n.serialize=e=n.deserialize=vn,r=function(n){return n.responseText}):(t=n.serialize=n.serialize||JSON.stringify,e=n.deserialize=n.deserialize||JSON.parse,r=n.extract||function(n){return n.responseText.length||e!==JSON.parse?n.responseText:null}),n.method=(n.method||"GET").toUpperCase(),n.url=wn(n.url,n.data),bn(n,n.data,t),n.onload=n.onerror=function(t){try{t=t||event;var o=e(r(t.target,n));"load"===t.type?(n.unwrapSuccess&&(o=n.unwrapSuccess(o,t.target)),En(o)&&n.type?f(o,function(t,e){o[e]=new n.type(t)}):n.type&&(o=new n.type(o)),i.resolve(o)):(n.unwrapError&&(o=n.unwrapError(o,t.target)),i.reject(o))}catch(a){i.reject(a)}finally{n.background!==!0&&c.endComputation()}},yn(n),i.promise=dn(i.promise,n.initialValue),i.promise},c})}).call(t,e(2)(n))},function(n,t){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children=[],n.webpackPolyfill=1),n}},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var i=e(4),o=r(i),a=e(5),u=r(a);t["default"]={controller:o["default"],view:u["default"]}},function(n,t){"use strict";function e(){return{}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=e},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function i(n){return(0,a["default"])("div#top-header",[(0,a["default"])("figure#img-wrapper",[(0,a["default"])('a[href="/blog"]',{config:a["default"].route},(0,a["default"])('img#top-img[src="../../../assets/img/avatar.png"]'))]),(0,a["default"])("div#social-links",[(0,a["default"])('a[href="https://github.com/mtwtkman"]',(0,a["default"])("i.fa.fa-github-alt.my-i-size")),(0,a["default"])('a[href="https://twitter.com/mtwtkman"]',(0,a["default"])("i.fa.fa-twitter.my-i-size")),(0,a["default"])('a[href="rss.xml"]',(0,a["default"])("i.fa.fa-rss.my-i-size"))])])}Object.defineProperty(t,"__esModule",{value:!0});var o=e(1),a=r(o);t["default"]=i},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var i=e(7),o=r(i),a=e(25),u=r(a);t["default"]={controller:o["default"],view:u["default"]}},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function i(){return{props:(0,u["default"])()}}Object.defineProperty(t,"__esModule",{value:!0});var o=e(1),a=(r(o),e(8)),u=r(a);t["default"]=i},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function i(){var n=a["default"].parseYaml();return n.map(function(n){return{title:n.title,date:n.date,href:n.date.split(" ")[0]+"/"+n.slug}})}Object.defineProperty(t,"__esModule",{value:!0});var o=e(9),a=r(o);t["default"]=i},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function i(){return a["default"].compact(l["default"].split("\n").map(function(n){var t=e(12)("./"+n);return t.publish?t:void 0}))}Object.defineProperty(t,"__esModule",{value:!0});var o=e(10),a=r(o),u=e(11),l=r(u);t["default"]={parseYaml:i}},function(n,t,e){var r;(function(n,i){(function(){function o(n,t){return n.set(t[0],t[1]),n}function a(n,t){return n.add(t),n}function u(n,t,e){var r=e.length;switch(r){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}function l(n,t,e,r){for(var i=-1,o=n.length;++i<o;){var a=n[i];t(r,a,e(a),n)}return r}function s(n,t){for(var e=-1,r=n.length,i=-1,o=t.length,a=Array(r+o);++e<r;)a[e]=n[e];for(;++i<o;)a[e++]=t[i];return a}function c(n,t){for(var e=-1,r=n.length;++e<r&&t(n[e],e,n)!==!1;);return n}function f(n,t){for(var e=n.length;e--&&t(n[e],e,n)!==!1;);return n}function h(n,t){for(var e=-1,r=n.length;++e<r;)if(!t(n[e],e,n))return!1;return!0}function p(n,t){for(var e=-1,r=n.length,i=-1,o=[];++e<r;){var a=n[e];t(a,e,n)&&(o[++i]=a)}return o}function d(n,t){return!!n.length&&j(n,t,0)>-1}function g(n,t,e){for(var r=-1,i=n.length;++r<i;)if(e(t,n[r]))return!0;return!1}function v(n,t){for(var e=-1,r=n.length,i=Array(r);++e<r;)i[e]=t(n[e],e,n);return i}function m(n,t){for(var e=-1,r=t.length,i=n.length;++e<r;)n[i+e]=t[e];return n}function _(n,t,e,r){var i=-1,o=n.length;for(r&&o&&(e=n[++i]);++i<o;)e=t(e,n[i],i,n);return e}function y(n,t,e,r){var i=n.length;for(r&&i&&(e=n[--i]);i--;)e=t(e,n[i],i,n);return e}function b(n,t){for(var e=-1,r=n.length;++e<r;)if(t(n[e],e,n))return!0;return!1}function w(n,t,e){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=t(o);if(null!=a&&(u===Q?a===a:e(a,u)))var u=a,l=o}return l}function x(n,t,e,r){var i;return e(n,function(n,e,o){return t(n,e,o)?(i=r?e:n,!1):void 0}),i}function k(n,t,e){for(var r=n.length,i=e?r:-1;e?i--:++i<r;)if(t(n[i],i,n))return i;return-1}function j(n,t,e){if(t!==t)return q(n,e);for(var r=e-1,i=n.length;++r<i;)if(n[r]===t)return r;return-1}function A(n,t,e,r,i){return i(n,function(n,i,o){e=r?(r=!1,n):t(e,n,i,o)}),e}function C(n,t){var e=n.length;for(n.sort(t);e--;)n[e]=n[e].value;return n}function O(n,t){for(var e,r=-1,i=n.length;++r<i;){var o=t(n[r]);o!==Q&&(e=e===Q?o:e+o)}return e}function E(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}function S(n,t){return v(t,function(t){return[t,n[t]]})}function R(n){return function(t){return n(t)}}function I(n,t){return v(t,function(t){return n[t]})}function P(n,t){for(var e=-1,r=n.length;++e<r&&j(t,n[e],0)>-1;);return e}function T(n,t){for(var e=n.length;e--&&j(t,n[e],0)>-1;);return e}function M(n){return n&&n.Object===Object?n:null}function L(n,t){if(n!==t){var e=null===n,r=n===Q,i=n===n,o=null===t,a=t===Q,u=t===t;if(n>t&&!o||!i||e&&!a&&u||r&&u)return 1;if(t>n&&!e||!u||o&&!r&&i||a&&i)return-1}return 0}function $(n,t,e){for(var r=-1,i=n.criteria,o=t.criteria,a=i.length,u=e.length;++r<a;){var l=L(i[r],o[r]);if(l){if(r>=u)return l;var s=e[r];return l*("desc"==s?-1:1)}}return n.index-t.index}function z(n,t){for(var e=n.length,r=0;e--;)n[e]===t&&r++;return r}function F(n){return ke[n]}function N(n){return je[n]}function D(n){return"\\"+Oe[n]}function q(n,t,e){for(var r=n.length,i=t+(e?0:-1);e?i--:++i<r;){var o=n[i];if(o!==o)return i}return-1}function U(n){var t=!1;if(null!=n&&"function"!=typeof n.toString)try{t=!!(n+"")}catch(e){}return t}function B(n,t){return n="number"==typeof n||St.test(n)?+n:-1,t=null==t?jn:t,n>-1&&n%1==0&&t>n}function W(n){for(var t,e=[];!(t=n.next()).done;)e.push(t.value);return e}function H(n){var t=-1,e=Array(n.size);return n.forEach(function(n,r){e[++t]=[r,n]}),e}function K(n,t){for(var e=-1,r=n.length,i=-1,o=[];++e<r;){var a=n[e];a!==t&&a!==Rn||(n[e]=Rn,o[++i]=e)}return o}function G(n){var t=-1,e=Array(n.size);return n.forEach(function(n){e[++t]=n}),e}function V(n){if(!n||!ge.test(n))return n.length;for(var t=de.lastIndex=0;de.test(n);)t++;return t}function J(n){return n.match(de)}function Y(n){return Ae[n]}function Z(n){function t(n){if(Na(n)&&!wc(n)&&!(n instanceof i)){if(n instanceof r)return n;if(Wl.call(n,"__wrapped__"))return Ti(n)}return new r(n)}function e(){}function r(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Q}function i(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=On,this.__views__=[]}function M(){var n=new i(this.__wrapped__);return n.__actions__=Fr(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Fr(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Fr(this.__views__),n}function St(){if(this.__filtered__){var n=new i(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Tt(){var n=this.__wrapped__.value(),t=this.__dir__,e=wc(n),r=0>t,i=e?n.length:0,o=vi(0,i,this.__views__),a=o.start,u=o.end,l=u-a,s=r?u:a-1,c=this.__iteratees__,f=c.length,h=0,p=gs(l,this.__takeCount__);if(!e||mn>i||i==l&&p==l)return Cr(n,this.__actions__);var d=[];n:for(;l--&&p>h;){s+=t;for(var g=-1,v=n[s];++g<f;){var m=c[g],_=m.iteratee,y=m.type,b=_(v);if(y==yn)v=b;else if(!b){if(y==_n)continue n;break n}}d[h++]=v}return d}function Mt(){}function Lt(n,t){return zt(n,t)&&delete n[t]}function $t(n,t){if(xs){var e=n[t];return e===xn?Q:e}return Wl.call(n,t)?n[t]:Q}function zt(n,t){return xs?n[t]!==Q:Wl.call(n,t)}function Ft(n,t,e){n[t]=xs&&e===Q?xn:e}function Nt(n){var t=-1,e=n?n.length:0;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function Dt(){this.__data__={hash:new Mt,map:ys?new ys:[],string:new Mt}}function qt(n){var t=this.__data__;return ji(n)?Lt("string"==typeof n?t.string:t.hash,n):ys?t.map["delete"](n):ne(t.map,n)}function Ut(n){var t=this.__data__;return ji(n)?$t("string"==typeof n?t.string:t.hash,n):ys?t.map.get(n):te(t.map,n)}function Bt(n){var t=this.__data__;return ji(n)?zt("string"==typeof n?t.string:t.hash,n):ys?t.map.has(n):ee(t.map,n)}function Wt(n,t){var e=this.__data__;return ji(n)?Ft("string"==typeof n?e.string:e.hash,n,t):ys?e.map.set(n,t):ie(e.map,n,t),this}function Ht(n){var t=-1,e=n?n.length:0;for(this.__data__=new Nt;++t<e;)this.push(n[t])}function Kt(n,t){var e=n.__data__;if(ji(t)){var r=e.__data__,i="string"==typeof t?r.string:r.hash;return i[t]===xn}return e.has(t)}function Gt(n){var t=this.__data__;if(ji(n)){var e=t.__data__,r="string"==typeof n?e.string:e.hash;r[n]=xn}else t.set(n,xn)}function Vt(n){var t=-1,e=n?n.length:0;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function Jt(){this.__data__={array:[],map:null}}function Yt(n){var t=this.__data__,e=t.array;return e?ne(e,n):t.map["delete"](n)}function Zt(n){var t=this.__data__,e=t.array;return e?te(e,n):t.map.get(n)}function Qt(n){var t=this.__data__,e=t.array;return e?ee(e,n):t.map.has(n)}function Xt(n,t){var e=this.__data__,r=e.array;r&&(r.length<mn-1?ie(r,n,t):(e.array=null,e.map=new Nt(r)));var i=e.map;return i&&i.set(n,t),this}function ne(n,t){var e=re(n,t);if(0>e)return!1;var r=n.length-1;return e==r?n.pop():ls.call(n,e,1),!0}function te(n,t){var e=re(n,t);return 0>e?Q:n[e][1]}function ee(n,t){return re(n,t)>-1}function re(n,t){for(var e=n.length;e--;)if(ba(n[e][0],t))return e;return-1}function ie(n,t,e){var r=re(n,t);0>r?n.push([t,e]):n[r][1]=e}function oe(n,t,e,r){return n===Q||ba(n,Ul[e])&&!Wl.call(r,e)?t:n}function ae(n,t,e){(e===Q||ba(n[t],e))&&("number"!=typeof t||e!==Q||t in n)||(n[t]=e)}function ue(n,t,e){var r=n[t];Wl.call(n,t)&&ba(r,e)&&(e!==Q||t in n)||(n[t]=e)}function le(n,t,e,r){return Is(n,function(n,i,o){t(r,n,e(n),o)}),r}function se(n,t){return n&&Nr(t,Au(t),n)}function ce(n,t){for(var e=-1,r=null==n,i=t.length,o=Array(i);++e<i;)o[e]=r?Q:xu(n,t[e]);return o}function fe(n){return Ca(n)?n:[]}function he(n){return"function"==typeof n?n:dl}function de(n){return wc(n)?n:Pi(n)}function ke(n,t,e){return n===n&&(e!==Q&&(n=e>=n?n:e),t!==Q&&(n=n>=t?n:t)),n}function je(n,t,e,r,i,o){var a;if(e&&(a=i?e(n,r,i,o):e(n)),a!==Q)return a;if(!Fa(n))return n;var u=wc(n);if(u){if(a=_i(n),!t)return Fr(n,a)}else{var l=gi(n),s=l==$n||l==zn;if(xc(n))return Sr(n,t);if(l==Dn||l==In||s&&!i){if(U(n))return i?n:{};if(a=yi(s?{}:n),!t)return qr(n,se(a,n))}else{if(!xe[l])return i?n:{};a=bi(n,l,t)}}o||(o=new Vt);var f=o.get(n);return f?f:(o.set(n,a),(u?c:Ne)(n,function(r,i){ue(a,i,je(r,t,e,i,n,o))}),u?a:qr(n,a))}function Ae(n){var t=Au(n),e=t.length;return function(r){if(null==r)return!e;for(var i=e;i--;){var o=t[i],a=n[o],u=r[o];if(u===Q&&!(o in Object(r))||!a(u))return!1}return!0}}function Ce(n){return Fa(n)?os(n):{}}function Oe(n,t,e){if("function"!=typeof n)throw new Dl(wn);return us(function(){n.apply(Q,e)},t)}function Re(n,t,e,r){var i=-1,o=d,a=!0,u=n.length,l=[],s=t.length;if(!u)return l;e&&(t=v(t,R(e))),r?(o=g,a=!1):t.length>=mn&&(o=Kt,a=!1,t=new Ht(t));n:for(;++i<u;){var c=n[i],f=e?e(c):c;if(a&&f===f){for(var h=s;h--;)if(t[h]===f)continue n;l.push(c)}else o(t,f,r)||l.push(c)}return l}function Ie(n,t){var e=!0;return Is(n,function(n,r,i){return e=!!t(n,r,i)}),e}function Te(n,t,e,r){var i=n.length;for(e=uu(e),0>e&&(e=-e>i?0:i+e),r=r===Q||r>i?i:uu(r),0>r&&(r+=i),r=e>r?0:lu(r);r>e;)n[e++]=t;return n}function Me(n,t){var e=[];return Is(n,function(n,r,i){t(n,r,i)&&e.push(n)}),e}function Le(n,t,e,r){r||(r=[]);for(var i=-1,o=n.length;++i<o;){var a=n[i];t>0&&Ca(a)&&(e||wc(a)||ka(a))?t>1?Le(a,t-1,e,r):m(r,a):e||(r[r.length]=a)}return r}function $e(n,t){return null==n?n:Ts(n,t,Cu)}function Ne(n,t){return n&&Ts(n,t,Au)}function De(n,t){return n&&Ms(n,t,Au)}function qe(n,t){
return p(t,function(t){return La(n[t])})}function Ue(n,t){t=ki(t,n)?[t+""]:de(t);for(var e=0,r=t.length;null!=n&&r>e;)n=n[t[e++]];return e&&e==r?n:Q}function Be(n,t){return Wl.call(n,t)||"object"==typeof n&&t in n&&null===es(n)}function We(n,t){return t in Object(n)}function He(n,t,e){return n>=gs(t,e)&&n<ds(t,e)}function Ke(n,t,e){for(var r=e?g:d,i=n.length,o=i,a=Array(i),u=[];o--;){var l=n[o];o&&t&&(l=v(l,R(t))),a[o]=!e&&(t||l.length>=120)?new Ht(o&&l):Q}l=n[0];var s=-1,c=l.length,f=a[0];n:for(;++s<c;){var h=l[s],p=t?t(h):h;if(!(f?Kt(f,p):r(u,p,e))){for(var o=i;--o;){var m=a[o];if(!(m?Kt(m,p):r(n[o],p,e)))continue n}f&&f.push(p),u.push(h)}}return u}function Ge(n,t,e,r){return Ne(n,function(n,i,o){t(r,e(n),i,o)}),r}function Ve(n,t,e){ki(t,n)||(t=de(t),n=Ri(n,t),t=Zi(t));var r=null==n?n:n[t];return null==r?Q:u(r,n,e)}function Je(n,t,e,r,i){return n===t?!0:null==n||null==t||!Fa(n)&&!Na(t)?n!==n&&t!==t:Ye(n,t,Je,e,r,i)}function Ye(n,t,e,r,i,o){var a=wc(n),u=wc(t),l=Pn,s=Pn;a||(l=gi(n),l==In?l=Dn:l!=Dn&&(a=nu(n))),u||(s=gi(t),s==In?s=Dn:s!=Dn&&(u=nu(t)));var c=l==Dn&&!U(n),f=s==Dn&&!U(t),h=l==s;if(h&&!a&&!c)return li(n,t,l,e,r,i);var p=i&hn;if(!p){var d=c&&Wl.call(n,"__wrapped__"),g=f&&Wl.call(t,"__wrapped__");if(d||g)return e(d?n.value():n,g?t.value():t,r,i,o)}return h?(o||(o=new Vt),(a?ui:si)(n,t,e,r,i,o)):!1}function Ze(n,t,e,r){var i=e.length,o=i,a=!r;if(null==n)return!o;for(n=Object(n);i--;){var u=e[i];if(a&&u[2]?u[1]!==n[u[0]]:!(u[0]in n))return!1}for(;++i<o;){u=e[i];var l=u[0],s=n[l],c=u[1];if(a&&u[2]){if(s===Q&&!(l in n))return!1}else{var f=new Vt,h=r?r(s,c,l,n,t,f):Q;if(!(h===Q?Je(c,s,r,fn|hn,f):h))return!1}}return!0}function Qe(n){var t=typeof n;return"function"==t?n:null==n?dl:"object"==t?wc(n)?rr(n[0],n[1]):er(n):xl(n)}function Xe(n){return ps(Object(n))}function nr(n){n=null==n?n:Object(n);var t=[];for(var e in n)t.push(e);return t}function tr(n,t){var e=-1,r=Aa(n)?Array(n.length):[];return Is(n,function(n,i,o){r[++e]=t(n,i,o)}),r}function er(n){var t=hi(n);if(1==t.length&&t[0][2]){var e=t[0][0],r=t[0][1];return function(n){return null==n?!1:n[e]===r&&(r!==Q||e in Object(n))}}return function(e){return e===n||Ze(e,n,t)}}function rr(n,t){return function(e){var r=xu(e,n);return r===Q&&r===t?ju(e,n):Je(t,r,Q,fn|hn)}}function ir(n,t,e,r,i){if(n!==t){var o=wc(t)||nu(t)?Q:Cu(t);c(o||t,function(a,u){if(o&&(u=a,a=t[u]),Fa(a))i||(i=new Vt),or(n,t,u,e,ir,r,i);else{var l=r?r(n[u],a,u+"",n,t,i):Q;l===Q&&(l=a),ae(n,u,l)}})}}function or(n,t,e,r,i,o,a){var u=n[e],l=t[e],s=a.get(l);if(s)return void ae(n,e,s);var c=o?o(u,l,e+"",n,t,a):Q,f=c===Q;f&&(c=l,wc(l)||nu(l)?wc(u)?c=u:Ca(u)?c=Fr(u):(f=!1,c=je(l,!0)):Va(l)||ka(l)?ka(u)?c=cu(u):!Fa(u)||r&&La(u)?(f=!1,c=je(l,!0)):c=u:f=!1),a.set(l,c),f&&i(c,l,r,o,a),ae(n,e,c)}function ar(n,t,e){var r=-1,i=fi();t=v(t.length?t:Array(1),function(n){return i(n)});var o=tr(n,function(n,e,i){var o=v(t,function(t){return t(n)});return{criteria:o,index:++r,value:n}});return C(o,function(n,t){return $(n,t,e)})}function ur(n,t){return n=Object(n),_(t,function(t,e){return e in n&&(t[e]=n[e]),t},{})}function lr(n,t){var e={};return $e(n,function(n,r){t(n,r)&&(e[r]=n)}),e}function sr(n){return function(t){return null==t?Q:t[n]}}function cr(n){return function(t){return Ue(t,n)}}function fr(n,t){return hr(n,t)}function hr(n,t,e){var r=-1,i=t.length,o=n;for(e&&(o=v(n,function(n){return e(n)}));++r<i;)for(var a=0,u=t[r],l=e?e(u):u;(a=j(o,l,a))>-1;)o!==n&&ls.call(o,a,1),ls.call(n,a,1);return n}function pr(n,t){for(var e=n?t.length:0,r=e-1;e--;){var i=t[e];if(r==e||i!=o){var o=i;if(B(i))ls.call(n,i,1);else if(ki(i,n))delete n[i];else{var a=de(i),u=Ri(n,a);null!=u&&delete u[Zi(a)]}}}return n}function dr(n,t){return n+cs(ms()*(t-n+1))}function gr(n,t,e,r){for(var i=-1,o=ds(ss((t-n)/(e||1)),0),a=Array(o);o--;)a[r?o:++i]=n,n+=e;return a}function vr(n,t,e,r){t=ki(t,n)?[t+""]:de(t);for(var i=-1,o=t.length,a=o-1,u=n;null!=u&&++i<o;){var l=t[i];if(Fa(u)){var s=e;if(i!=a){var c=u[l];s=r?r(c,l,u):Q,s===Q&&(s=null==c?B(t[i+1])?[]:{}:c)}ue(u,l,s)}u=u[l]}return n}function mr(n,t,e){var r=-1,i=n.length;0>t&&(t=-t>i?0:i+t),e=e>i?i:e,0>e&&(e+=i),i=t>e?0:e-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=n[r+t];return o}function _r(n,t){var e;return Is(n,function(n,r,i){return e=t(n,r,i),!e}),!!e}function yr(n,t,e){var r=0,i=n?n.length:r;if("number"==typeof t&&t===t&&Sn>=i){for(;i>r;){var o=r+i>>>1,a=n[o];(e?t>=a:t>a)&&null!==a?r=o+1:i=o}return i}return br(n,t,dl,e)}function br(n,t,e,r){t=e(t);for(var i=0,o=n?n.length:0,a=t!==t,u=null===t,l=t===Q;o>i;){var s=cs((i+o)/2),c=e(n[s]),f=c!==Q,h=c===c;if(a)var p=h||r;else p=u?h&&f&&(r||null!=c):l?h&&(r||f):null==c?!1:r?t>=c:t>c;p?i=s+1:o=s}return gs(o,En)}function wr(n){return xr(n)}function xr(n,t){for(var e=0,r=n.length,i=n[0],o=t?t(i):i,a=o,u=0,l=[i];++e<r;)i=n[e],o=t?t(i):i,ba(o,a)||(a=o,l[++u]=i);return l}function kr(n,t,e){var r=-1,i=d,o=n.length,a=!0,u=[],l=u;if(e)a=!1,i=g;else if(o>=mn){var s=t?null:$s(n);if(s)return G(s);a=!1,i=Kt,l=new Ht}else l=t?[]:u;n:for(;++r<o;){var c=n[r],f=t?t(c):c;if(a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue n;t&&l.push(f),u.push(c)}else i(l,f,e)||(l!==u&&l.push(f),u.push(c))}return u}function jr(n,t){t=ki(t,n)?[t+""]:de(t),n=Ri(n,t);var e=Zi(t);return null!=n&&ku(n,e)?delete n[e]:!0}function Ar(n,t,e,r){for(var i=n.length,o=r?i:-1;(r?o--:++o<i)&&t(n[o],o,n););return e?mr(n,r?0:o,r?o+1:i):mr(n,r?o+1:0,r?i:o)}function Cr(n,t){var e=n;return e instanceof i&&(e=e.value()),_(t,function(n,t){return t.func.apply(t.thisArg,m([n],t.args))},e)}function Or(n,t,e){for(var r=-1,i=n.length;++r<i;)var o=o?m(Re(o,n[r],t,e),Re(n[r],o,t,e)):n[r];return o&&o.length?kr(o,t,e):[]}function Er(n,t,e){for(var r=-1,i=n.length,o=t.length,a={};++r<i;)e(a,n[r],o>r?t[r]:Q);return a}function Sr(n,t){if(t)return n.slice();var e=n.constructor,r=new e(n.length);return n.copy(r),r}function Rr(n){var t=n.constructor,e=new t(n.byteLength),r=new Xl(e);return r.set(new Xl(n)),e}function Ir(n){var t=n.constructor;return _(H(n),o,new t)}function Pr(n){var t=n.constructor,e=new t(n.source,kt.exec(n));return e.lastIndex=n.lastIndex,e}function Tr(n){var t=n.constructor;return _(G(n),a,new t)}function Mr(n){return Ql?Object(Es.call(n)):{}}function Lr(n,t){var e=n.buffer,r=t?Rr(e):e,i=n.constructor;return new i(r,n.byteOffset,n.length)}function $r(n,t,e,r){for(var i=-1,o=n.length,a=e.length,u=-1,l=t.length,s=ds(o-a,0),c=Array(l+s),f=!r;++u<l;)c[u]=t[u];for(;++i<a;)(f||o>i)&&(c[e[i]]=n[i]);for(;s--;)c[u++]=n[i++];return c}function zr(n,t,e,r){for(var i=-1,o=n.length,a=-1,u=e.length,l=-1,s=t.length,c=ds(o-u,0),f=Array(c+s),h=!r;++i<c;)f[i]=n[i];for(var p=i;++l<s;)f[p+l]=t[l];for(;++a<u;)(h||o>i)&&(f[p+e[a]]=n[i++]);return f}function Fr(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t}function Nr(n,t,e){return Dr(n,t,e)}function Dr(n,t,e,r){e||(e={});for(var i=-1,o=t.length;++i<o;){var a=t[i],u=r?r(e[a],n[a],a,e,n):n[a];ue(e,a,u)}return e}function qr(n,t){return Nr(n,Ns(n),t)}function Ur(n,t){return function(e,r){var i=wc(e)?l:le,o=t?t():{};return i(e,n,fi(r),o)}}function Br(n){return ca(function(t,e){var r=-1,i=e.length,o=i>1?e[i-1]:Q,a=i>2?e[2]:Q;for(o="function"==typeof o?(i--,o):Q,a&&xi(e[0],e[1],a)&&(o=3>i?Q:o,i=1),t=Object(t);++r<i;){var u=e[r];u&&n(t,u,r,o)}return t})}function Wr(n,t){return function(e,r){if(null==e)return e;if(!Aa(e))return n(e,r);for(var i=e.length,o=t?i:-1,a=Object(e);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return e}}function Hr(n){return function(t,e,r){for(var i=-1,o=Object(t),a=r(t),u=a.length;u--;){var l=a[n?u:++i];if(e(o[l],l,o)===!1)break}return t}}function Kr(n,t,e){function r(){var t=this&&this!==ze&&this instanceof r?o:n;return t.apply(i?e:this,arguments)}var i=t&nn,o=Jr(n);return r}function Gr(n){return function(t){t=hu(t);var e=ge.test(t)?J(t):Q,r=e?e[0]:t.charAt(0),i=e?e.slice(1).join(""):t.slice(1);return r[n]()+i}}function Vr(n){return function(t){return _(cl(Wu(t)),n,"")}}function Jr(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=Ce(n.prototype),r=n.apply(e,t);return Fa(r)?r:e}}function Yr(n,t,e){function r(){for(var o=arguments.length,a=Array(o),l=o,s=di(r);l--;)a[l]=arguments[l];var c=3>o&&a[0]!==s&&a[o-1]!==s?[]:K(a,s);if(o-=c.length,e>o)return ii(n,t,Qr,r.placeholder,Q,a,c,Q,Q,e-o);var f=this&&this!==ze&&this instanceof r?i:n;return u(f,this,a)}var i=Jr(n);return r}function Zr(n){return ca(function(t){t=Le(t,1);var e=t.length,i=e,o=r.prototype.thru;for(n&&t.reverse();i--;){var a=t[i];if("function"!=typeof a)throw new Dl(wn);if(o&&!u&&"wrapper"==ci(a))var u=new r([],!0)}for(i=u?i:e;++i<e;){a=t[i];var l=ci(a),s="wrapper"==l?zs(a):Q;u=s&&Ai(s[0])&&s[1]==(ln|rn|an|sn)&&!s[4].length&&1==s[9]?u[ci(s[0])].apply(u,s[3]):1==a.length&&Ai(a)?u[l]():u.thru(a)}return function(){var n=arguments,r=n[0];if(u&&1==n.length&&wc(r)&&r.length>=mn)return u.plant(r).value();for(var i=0,o=e?t[i].apply(this,n):r;++i<e;)o=t[i].call(this,o);return o}})}function Qr(n,t,e,r,i,o,a,u,l,s){function c(){for(var m=arguments.length,_=m,y=Array(m);_--;)y[_]=arguments[_];if(d)var b=di(c),w=z(y,b);if(r&&(y=$r(y,r,i,d)),o&&(y=zr(y,o,a,d)),m-=w,d&&s>m){var x=K(y,b);return ii(n,t,Qr,c.placeholder,e,y,x,u,l,s-m)}var k=h?e:this,j=p?k[n]:n;return m=y.length,u?y=Ii(y,u):g&&m>1&&y.reverse(),f&&m>l&&(y.length=l),this&&this!==ze&&this instanceof c&&(j=v||Jr(j)),j.apply(k,y)}var f=t&ln,h=t&nn,p=t&tn,d=t&(rn|on),g=t&cn,v=p?Q:Jr(n);return c}function Xr(n,t){return function(e,r){return Ge(e,n,t(r),{})}}function ni(n){return ca(function(t){return t=v(Le(t,1),fi()),ca(function(e){var r=this;return n(t,function(n){return u(n,r,e)})})})}function ti(n,t,e){t=uu(t);var r=V(n);if(!t||r>=t)return"";var i=t-r;e=e===Q?" ":e+"";var o=Qu(e,ss(i/V(e)));return ge.test(e)?J(o).slice(0,i).join(""):o.slice(0,i)}function ei(n,t,e,r){function i(){for(var t=-1,l=arguments.length,s=-1,c=r.length,f=Array(c+l),h=this&&this!==ze&&this instanceof i?a:n;++s<c;)f[s]=r[s];for(;l--;)f[s++]=arguments[++t];return u(h,o?e:this,f)}var o=t&nn,a=Jr(n);return i}function ri(n){return function(t,e,r){return r&&"number"!=typeof r&&xi(t,e,r)&&(e=r=Q),t=su(t),t=t===t?t:0,e===Q?(e=t,t=0):e=su(e)||0,r=r===Q?e>t?1:-1:su(r)||0,gr(t,e,r,n)}}function ii(n,t,e,r,i,o,a,u,l,s){var c=t&rn,f=u?Fr(u):Q,h=c?a:Q,p=c?Q:a,d=c?o:Q,g=c?Q:o;t|=c?an:un,t&=~(c?un:an),t&en||(t&=~(nn|tn));var v=[n,t,i,d,h,g,p,f,l,s],m=e.apply(Q,v);return Ai(n)&&Ds(m,v),m.placeholder=r,m}function oi(n){var t=Fl[n];return function(n,e){if(n=su(n),e=uu(e)){var r=(hu(n)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+e));return r=(hu(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-e))}return t(n)}}function ai(n,t,e,r,i,o,a,u){var l=t&tn;if(!l&&"function"!=typeof n)throw new Dl(wn);var s=r?r.length:0;if(s||(t&=~(an|un),r=i=Q),a=a===Q?a:ds(uu(a),0),u=u===Q?u:uu(u),s-=i?i.length:0,t&un){var c=r,f=i;r=i=Q}var h=l?Q:zs(n),p=[n,t,e,r,i,c,f,o,a,u];if(h&&Ei(p,h),n=p[0],t=p[1],e=p[2],r=p[3],i=p[4],u=p[9]=null==p[9]?l?0:n.length:ds(p[9]-s,0),!u&&t&(rn|on)&&(t&=~(rn|on)),t&&t!=nn)d=t==rn||t==on?Yr(n,t,u):t!=an&&t!=(nn|an)||i.length?Qr.apply(Q,p):ei(n,t,e,r);else var d=Kr(n,t,e);var g=h?Ls:Ds;return g(d,p)}function ui(n,t,e,r,i,o){var a=-1,u=i&hn,l=i&fn,s=n.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var f=o.get(n);if(f)return f==t;var h=!0;for(o.set(n,t);++a<s;){var p=n[a],d=t[a];if(r)var g=u?r(d,p,a,t,n,o):r(p,d,a,n,t,o);if(g!==Q){if(g)continue;h=!1;break}if(l){if(!b(t,function(n){return p===n||e(p,n,r,i,o)})){h=!1;break}}else if(p!==d&&!e(p,d,r,i,o)){h=!1;break}}return o["delete"](n),h}function li(n,t,e,r,i,o){switch(e){case Gn:return!(n.byteLength!=t.byteLength||!r(new Xl(n),new Xl(t)));case Tn:case Mn:return+n==+t;case Ln:return n.name==t.name&&n.message==t.message;case Nn:return n!=+n?t!=+t:n==+t;case qn:case Bn:return n==t+"";case Fn:var a=H;case Un:var u=o&hn;return a||(a=G),(u||n.size==t.size)&&r(a(n),a(t),i,o|fn);case Wn:return!!Ql&&Es.call(n)==Es.call(t)}return!1}function si(n,t,e,r,i,o){var a=i&hn,u=Au(n),l=u.length,s=Au(t),c=s.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=u[f];if(!(a?h in t:Be(t,h)))return!1}var p=o.get(n);if(p)return p==t;var d=!0;o.set(n,t);for(var g=a;++f<l;){h=u[f];var v=n[h],m=t[h];if(r)var _=a?r(m,v,h,t,n,o):r(v,m,h,n,t,o);if(!(_===Q?v===m||e(v,m,r,i,o):_)){d=!1;break}g||(g="constructor"==h)}if(d&&!g){var y=n.constructor,b=t.constructor;y!=b&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o["delete"](n),d}function ci(n){for(var t=n.name+"",e=Rs[t],r=Wl.call(Rs,t)?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==n)return i.name}return t}function fi(){var n=t.iteratee||gl;return n=n===gl?Qe:n,arguments.length?n(arguments[0],arguments[1]):n}function hi(n){for(var t=Mu(n),e=t.length;e--;)t[e][2]=Oi(t[e][1]);return t}function pi(n,t){var e=null==n?Q:n[t];return Wa(e)?e:Q}function di(n){var e=Wl.call(t,"placeholder")?t:n;return e.placeholder}function gi(n){return Gl.call(n)}function vi(n,t,e){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":n+=a;break;case"dropRight":t-=a;break;case"take":t=gs(t,n+a);break;case"takeRight":n=ds(n,t-a)}}return{start:n,end:t}}function mi(n,t,e){if(null==n)return!1;var r=e(n,t);r||ki(t)||(t=de(t),n=Ri(n,t),null!=n&&(t=Zi(t),r=e(n,t)));var i=n?n.length:Q;return r||!!i&&za(i)&&B(t,i)&&(wc(n)||Qa(n)||ka(n))}function _i(n){var t=n.length,e=n.constructor(t);return t&&"string"==typeof n[0]&&Wl.call(n,"index")&&(e.index=n.index,e.input=n.input),e}function yi(n){return La(n.constructor)&&!Ci(n)?Ce(es(n)):{}}function bi(n,t,e){var r=n.constructor;switch(t){case Gn:return Rr(n);case Tn:case Mn:return new r(+n);case Vn:case Jn:case Yn:case Zn:case Qn:case Xn:case nt:case tt:case et:return Lr(n,e);case Fn:return Ir(n);case Nn:case Bn:return new r(n);case qn:return Pr(n);case Un:return Tr(n);case Wn:return Mr(n)}}function wi(n){var t=n?n.length:Q;return za(t)&&(wc(n)||Qa(n)||ka(n))?E(t,String):null}function xi(n,t,e){if(!Fa(e))return!1;var r=typeof t;return("number"==r?Aa(e)&&B(t,e.length):"string"==r&&t in e)?ba(e[t],n):!1}function ki(n,t){return"number"==typeof n?!0:!wc(n)&&(dt.test(n)||!pt.test(n)||null!=t&&n in Object(t))}function ji(n){var t=typeof n;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=n||null==n}function Ai(n){var e=ci(n),r=t[e];if("function"!=typeof r||!(e in i.prototype))return!1;if(n===r)return!0;var o=zs(r);return!!o&&n===o[0]}function Ci(n){var t=n&&n.constructor,e=La(t)&&t.prototype||Ul;return n===e}function Oi(n){return n===n&&!Fa(n)}function Ei(n,t){var e=n[1],r=t[1],i=e|r,o=(nn|tn|ln)>i,a=r==ln&&e==rn||r==ln&&e==sn&&n[7].length<=t[8]||r==(ln|sn)&&t[7].length<=t[8]&&e==rn;if(!o&&!a)return n;r&nn&&(n[2]=t[2],i|=e&nn?0:en);var u=t[3];if(u){var l=n[3];n[3]=l?$r(l,u,t[4]):Fr(u),n[4]=l?K(n[3],Rn):Fr(t[4])}return u=t[5],u&&(l=n[5],n[5]=l?zr(l,u,t[6]):Fr(u),n[6]=l?K(n[5],Rn):Fr(t[6])),u=t[7],u&&(n[7]=Fr(u)),r&ln&&(n[8]=null==n[8]?t[8]:gs(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=i,n}function Si(n,t,e,r,i,o){return Fa(n)&&Fa(t)&&(o.set(t,n),ir(n,t,Q,Si,o)),n}function Ri(n,t){return 1==t.length?n:xu(n,mr(t,0,-1))}function Ii(n,t){for(var e=n.length,r=gs(t.length,e),i=Fr(n);r--;){var o=t[r];n[r]=B(o,e)?i[o]:Q}return n}function Pi(n){var t=[];return hu(n).replace(gt,function(n,e,r,i){t.push(r?i.replace(wt,"$1"):e||n)}),t}function Ti(n){if(n instanceof i)return n.clone();var t=new r(n.__wrapped__,n.__chain__);return t.__actions__=Fr(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function Mi(n,t){t=ds(uu(t),0);var e=n?n.length:0;if(!e||1>t)return[];for(var r=0,i=-1,o=Array(ss(e/t));e>r;)o[++i]=mr(n,r,r+=t);return o}function Li(n){for(var t=-1,e=n?n.length:0,r=-1,i=[];++t<e;){var o=n[t];o&&(i[++r]=o)}return i}function $i(n,t,e){var r=n?n.length:0;return r?(t=e||t===Q?1:uu(t),mr(n,0>t?0:t,r)):[]}function zi(n,t,e){var r=n?n.length:0;return r?(t=e||t===Q?1:uu(t),t=r-t,mr(n,0,0>t?0:t)):[]}function Fi(n,t){return n&&n.length?Ar(n,fi(t,3),!0,!0):[]}function Ni(n,t){return n&&n.length?Ar(n,fi(t,3),!0):[]}function Di(n,t,e,r){var i=n?n.length:0;return i?(e&&"number"!=typeof e&&xi(n,t,e)&&(e=0,r=i),Te(n,t,e,r)):[]}function qi(n,t){return n&&n.length?k(n,fi(t,3)):-1}function Ui(n,t){return n&&n.length?k(n,fi(t,3),!0):-1}function Bi(n){var t=n?n.length:0;return t?Le(n,1):[]}function Wi(n){var t=n?n.length:0;return t?Le(n,kn):[]}function Hi(n,t){var e=n?n.length:0;return e?(t=t===Q?1:uu(t),Le(n,t)):[]}function Ki(n){for(var t=-1,e=n?n.length:0,r={};++t<e;){var i=n[t];r[i[0]]=i[1]}return r}function Gi(n){return n?n[0]:Q}function Vi(n,t,e){var r=n?n.length:0;return r?(e=uu(e),0>e&&(e=ds(r+e,0)),j(n,t,e)):-1}function Ji(n){return zi(n,1)}function Yi(n,t){return n?hs.call(n,t):""}function Zi(n){var t=n?n.length:0;return t?n[t-1]:Q}function Qi(n,t,e){var r=n?n.length:0;if(!r)return-1;var i=r;if(e!==Q&&(i=uu(e),i=(0>i?ds(r+i,0):gs(i,r-1))+1),t!==t)return q(n,i,!0);for(;i--;)if(n[i]===t)return i;return-1}function Xi(n,t){return n&&n.length&&t&&t.length?fr(n,t):n}function no(n,t,e){return n&&n.length&&t&&t.length?hr(n,t,fi(e)):n}function to(n,t){var e=[];if(!n||!n.length)return e;var r=-1,i=[],o=n.length;for(t=fi(t,3);++r<o;){var a=n[r];t(a,r,n)&&(e.push(a),i.push(r))}return pr(n,i),e}function eo(n){return n?_s.call(n):n}function ro(n,t,e){var r=n?n.length:0;return r?(e&&"number"!=typeof e&&xi(n,t,e)?(t=0,e=r):(t=null==t?0:uu(t),e=e===Q?r:uu(e)),mr(n,t,e)):[]}function io(n,t){return yr(n,t)}function oo(n,t,e){return br(n,t,fi(e))}function ao(n,t){var e=n?n.length:0;if(e){var r=yr(n,t);if(e>r&&ba(n[r],t))return r}return-1}function uo(n,t){return yr(n,t,!0)}function lo(n,t,e){return br(n,t,fi(e),!0)}function so(n,t){var e=n?n.length:0;if(e){var r=yr(n,t,!0)-1;if(ba(n[r],t))return r}return-1}function co(n){return n&&n.length?wr(n):[]}function fo(n,t){return n&&n.length?xr(n,fi(t)):[]}function ho(n){return $i(n,1)}function po(n,t,e){return n&&n.length?(t=e||t===Q?1:uu(t),mr(n,0,0>t?0:t)):[]}function go(n,t,e){var r=n?n.length:0;return r?(t=e||t===Q?1:uu(t),t=r-t,mr(n,0>t?0:t,r)):[]}function vo(n,t){return n&&n.length?Ar(n,fi(t,3),!1,!0):[]}function mo(n,t){return n&&n.length?Ar(n,fi(t,3)):[]}function _o(n){return n&&n.length?kr(n):[]}function yo(n,t){return n&&n.length?kr(n,fi(t)):[]}function bo(n,t){return n&&n.length?kr(n,Q,t):[]}function wo(n){if(!n||!n.length)return[];var t=0;return n=p(n,function(n){return Ca(n)?(t=ds(n.length,t),!0):void 0}),E(t,function(t){return v(n,sr(t))})}function xo(n,t){if(!n||!n.length)return[];var e=wo(n);return null==t?e:v(e,function(n){return u(t,Q,n)})}function ko(n,t){return Er(n||[],t||[],ue)}function jo(n,t){return Er(n||[],t||[],vr)}function Ao(n){var e=t(n);return e.__chain__=!0,e}function Co(n,t){return t(n),n}function Oo(n,t){return t(n)}function Eo(){return Ao(this)}function So(){return new r(this.value(),this.__chain__)}function Ro(n){return this.map(n).flatten()}function Io(){this.__values__===Q&&(this.__values__=au(this.value()));var n=this.__index__>=this.__values__.length,t=n?Q:this.__values__[this.__index__++];return{done:n,value:t}}function Po(){return this}function To(n){for(var t,r=this;r instanceof e;){var i=Ti(r);i.__index__=0,i.__values__=Q,t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=n,t}function Mo(){var n=this.__wrapped__;if(n instanceof i){var t=n;return this.__actions__.length&&(t=new i(this)),t=t.reverse(),t.__actions__.push({func:Oo,args:[eo],thisArg:Q}),new r(t,this.__chain__)}return this.thru(eo)}function Lo(){return Cr(this.__wrapped__,this.__actions__)}function $o(n,t,e){var r=wc(n)?h:Ie;return e&&xi(n,t,e)&&(t=Q),r(n,fi(t,3))}function zo(n,t){var e=wc(n)?p:Me;return e(n,fi(t,3))}function Fo(n,t){if(t=fi(t,3),wc(n)){var e=k(n,t);return e>-1?n[e]:Q}return x(n,t,Is)}function No(n,t){if(t=fi(t,3),wc(n)){var e=k(n,t,!0);return e>-1?n[e]:Q}return x(n,t,Ps)}function Do(n,t){return Le(Wo(n,t),1)}function qo(n,t){return"function"==typeof t&&wc(n)?c(n,t):Is(n,he(t))}function Uo(n,t){return"function"==typeof t&&wc(n)?f(n,t):Ps(n,he(t))}function Bo(n,t,e,r){n=Aa(n)?n:Fu(n),e=e&&!r?uu(e):0;var i=n.length;return 0>e&&(e=ds(i+e,0)),Qa(n)?i>=e&&n.indexOf(t,e)>-1:!!i&&j(n,t,e)>-1}function Wo(n,t){var e=wc(n)?v:tr;return e(n,fi(t,3))}function Ho(n,t,e,r){return null==n?[]:(wc(t)||(t=null==t?[]:[t]),e=r?Q:e,wc(e)||(e=null==e?[]:[e]),ar(n,t,e))}function Ko(n,t,e){var r=wc(n)?_:A,i=arguments.length<3;return r(n,fi(t,4),e,i,Is)}function Go(n,t,e){var r=wc(n)?y:A,i=arguments.length<3;return r(n,fi(t,4),e,i,Ps)}function Vo(n,t){var e=wc(n)?p:Me;return t=fi(t,3),e(n,function(n,e,r){return!t(n,e,r)})}function Jo(n){var t=Aa(n)?n:Fu(n),e=t.length;return e>0?t[dr(0,e-1)]:Q}function Yo(n,t){var e=-1,r=au(n),i=r.length,o=i-1;for(t=ke(uu(t),0,i);++e<t;){var a=dr(e,o),u=r[a];r[a]=r[e],r[e]=u}return r.length=t,r}function Zo(n){return Yo(n,On)}function Qo(n){if(null==n)return 0;if(Aa(n)){var t=n.length;return t&&Qa(n)?V(n):t}return Au(n).length}function Xo(n,t,e){var r=wc(n)?b:_r;return e&&xi(n,t,e)&&(t=Q),r(n,fi(t,3))}function na(n,t){if("function"!=typeof t)throw new Dl(wn);return n=uu(n),function(){return--n<1?t.apply(this,arguments):void 0}}function ta(n,t,e){return t=e?Q:t,t=n&&null==t?n.length:t,ai(n,ln,Q,Q,Q,Q,t)}function ea(n,t){var e;if("function"!=typeof t)throw new Dl(wn);return n=uu(n),function(){return--n>0&&(e=t.apply(this,arguments)),1>=n&&(t=Q),e}}function ra(n,t,e){t=e?Q:t;var r=ai(n,rn,Q,Q,Q,Q,Q,t);return r.placeholder=ra.placeholder,r}function ia(n,t,e){t=e?Q:t;var r=ai(n,on,Q,Q,Q,Q,Q,t);return r.placeholder=ia.placeholder,r}function oa(n,t,e){function r(){d&&ns(d),c&&ns(c),v=0,s=c=p=d=g=Q}function i(t,e){e&&ns(e),c=d=g=Q,t&&(v=hc(),f=n.apply(p,s),d||c||(s=p=Q))}function o(){var n=t-(hc()-h);0>=n||n>t?i(g,c):d=us(o,n)}function a(){return(d&&g||c&&y)&&(f=n.apply(p,s)),r(),f}function u(){i(y,d)}function l(){if(s=arguments,h=hc(),p=this,g=y&&(d||!m),_===!1)var e=m&&!d;else{v||c||m||(v=h);var r=_-(h-v),i=(0>=r||r>_)&&(m||c);i?(c&&(c=ns(c)),v=h,f=n.apply(p,s)):c||(c=us(u,r))}return i&&d?d=ns(d):d||t===_||(d=us(o,t)),e&&(i=!0,f=n.apply(p,s)),!i||d||c||(s=p=Q),f}var s,c,f,h,p,d,g,v=0,m=!1,_=!1,y=!0;if("function"!=typeof n)throw new Dl(wn);return t=su(t)||0,Fa(e)&&(m=!!e.leading,_="maxWait"in e&&ds(su(e.maxWait)||0,t),y="trailing"in e?!!e.trailing:y),l.cancel=r,l.flush=a,l}function aa(n){return ai(n,cn)}function ua(n,t){if("function"!=typeof n||t&&"function"!=typeof t)throw new Dl(wn);var e=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=n.apply(this,r);return e.cache=o.set(i,a),a};return e.cache=new ua.Cache,e}function la(n){if("function"!=typeof n)throw new Dl(wn);return function(){return!n.apply(this,arguments)}}function sa(n){return ea(2,n)}function ca(n,t){if("function"!=typeof n)throw new Dl(wn);return t=ds(t===Q?n.length-1:uu(t),0),function(){for(var e=arguments,r=-1,i=ds(e.length-t,0),o=Array(i);++r<i;)o[r]=e[t+r];switch(t){case 0:return n.call(this,o);case 1:return n.call(this,e[0],o);case 2:return n.call(this,e[0],e[1],o)}var a=Array(t+1);for(r=-1;++r<t;)a[r]=e[r];return a[t]=o,u(n,this,a)}}function fa(n,t){if("function"!=typeof n)throw new Dl(wn);return t=t===Q?0:ds(uu(t),0),ca(function(e){var r=e[t],i=e.slice(0,t);return r&&m(i,r),u(n,this,i)})}function ha(n,t,e){var r=!0,i=!0;if("function"!=typeof n)throw new Dl(wn);return Fa(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),oa(n,t,{leading:r,maxWait:t,trailing:i})}function pa(n){return ta(n,1)}function da(n,t){return t=null==t?dl:t,_c(t,n)}function ga(){if(!arguments.length)return[];var n=arguments[0];return wc(n)?n:[n]}function va(n){return je(n)}function ma(n,t){return je(n,!1,t)}function _a(n){return je(n,!0)}function ya(n,t){return je(n,!0,t)}function ba(n,t){return n===t||n!==n&&t!==t}function wa(n,t){return n>t}function xa(n,t){return n>=t}function ka(n){return Ca(n)&&Wl.call(n,"callee")&&(!as.call(n,"callee")||Gl.call(n)==In)}function ja(n){return Na(n)&&Gl.call(n)==Gn}function Aa(n){return null!=n&&!("function"==typeof n&&La(n))&&za(Fs(n))}function Ca(n){return Na(n)&&Aa(n)}function Oa(n){return n===!0||n===!1||Na(n)&&Gl.call(n)==Tn}function Ea(n){return Na(n)&&Gl.call(n)==Mn}function Sa(n){return!!n&&1===n.nodeType&&Na(n)&&!Va(n)}function Ra(n){if(Aa(n)&&(wc(n)||Qa(n)||La(n.splice)||ka(n)))return!n.length;for(var t in n)if(Wl.call(n,t))return!1;return!0}function Ia(n,t){return Je(n,t)}function Pa(n,t,e){e="function"==typeof e?e:Q;var r=e?e(n,t):Q;return r===Q?Je(n,t,e):!!r}function Ta(n){return Na(n)?Gl.call(n)==Ln||"string"==typeof n.message&&"string"==typeof n.name:!1}function Ma(n){return"number"==typeof n&&fs(n)}function La(n){var t=Fa(n)?Gl.call(n):"";return t==$n||t==zn}function $a(n){return"number"==typeof n&&n==uu(n)}function za(n){return"number"==typeof n&&n>-1&&n%1==0&&jn>=n}function Fa(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function Na(n){return!!n&&"object"==typeof n}function Da(n){return Na(n)&&gi(n)==Fn}function qa(n,t){return n===t||Ze(n,t,hi(t))}function Ua(n,t,e){return e="function"==typeof e?e:Q,Ze(n,t,hi(t),e)}function Ba(n){return Ga(n)&&n!=+n}function Wa(n){return null==n?!1:La(n)?Jl.test(Bl.call(n)):Na(n)&&(U(n)?Jl:Ot).test(n)}function Ha(n){return null===n}function Ka(n){return null==n}function Ga(n){return"number"==typeof n||Na(n)&&Gl.call(n)==Nn}function Va(n){if(!Na(n)||Gl.call(n)!=Dn||U(n))return!1;var t=es(n);if(null===t)return!0;var e=t.constructor;return"function"==typeof e&&e instanceof e&&Bl.call(e)==Kl}function Ja(n){return Fa(n)&&Gl.call(n)==qn}function Ya(n){return $a(n)&&n>=-jn&&jn>=n}function Za(n){return Na(n)&&gi(n)==Un}function Qa(n){return"string"==typeof n||!wc(n)&&Na(n)&&Gl.call(n)==Bn}function Xa(n){return"symbol"==typeof n||Na(n)&&Gl.call(n)==Wn}function nu(n){return Na(n)&&za(n.length)&&!!we[Gl.call(n)]}function tu(n){return n===Q}function eu(n){return Na(n)&&gi(n)==Hn}function ru(n){return Na(n)&&Gl.call(n)==Kn}function iu(n,t){return t>n}function ou(n,t){return t>=n}function au(n){if(!n)return[];if(Aa(n))return Qa(n)?J(n):Fr(n);if(is&&n[is])return W(n[is]());var t=gi(n),e=t==Fn?H:t==Un?G:Fu;return e(n)}function uu(n){if(!n)return 0===n?n:0;if(n=su(n),n===kn||n===-kn){var t=0>n?-1:1;return t*An}var e=n%1;return n===n?e?n-e:n:0}function lu(n){return n?ke(uu(n),0,On):0}function su(n){if(Fa(n)){var t=La(n.valueOf)?n.valueOf():n;n=Fa(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(_t,"");var e=Ct.test(n);return e||Et.test(n)?Se(n.slice(2),e?2:8):At.test(n)?Cn:+n}function cu(n){return Nr(n,Cu(n))}function fu(n){return ke(uu(n),-jn,jn)}function hu(n){if("string"==typeof n)return n;if(null==n)return"";if(Xa(n))return Ql?Ss.call(n):"";var t=n+"";return"0"==t&&1/n==-kn?"-0":t}function pu(n,t){var e=Ce(n);return t?se(e,t):e}function du(n,t){return x(n,fi(t,3),Ne,!0)}function gu(n,t){return x(n,fi(t,3),De,!0)}function vu(n,t){return null==n?n:Ts(n,he(t),Cu)}function mu(n,t){return null==n?n:Ms(n,he(t),Cu)}function _u(n,t){return n&&Ne(n,he(t))}function yu(n,t){return n&&De(n,he(t))}function bu(n){return null==n?[]:qe(n,Au(n))}function wu(n){return null==n?[]:qe(n,Cu(n))}function xu(n,t,e){var r=null==n?Q:Ue(n,t);return r===Q?e:r}function ku(n,t){return mi(n,t,Be)}function ju(n,t){return mi(n,t,We)}function Au(n){var t=Ci(n);if(!t&&!Aa(n))return Xe(n);var e=wi(n),r=!!e,i=e||[],o=i.length;for(var a in n)!Be(n,a)||r&&("length"==a||B(a,o))||t&&"constructor"==a||i.push(a);return i}function Cu(n){for(var t=-1,e=Ci(n),r=nr(n),i=r.length,o=wi(n),a=!!o,u=o||[],l=u.length;++t<i;){var s=r[t];a&&("length"==s||B(s,l))||"constructor"==s&&(e||!Wl.call(n,s))||u.push(s)}return u}function Ou(n,t){var e={};return t=fi(t,3),Ne(n,function(n,r,i){e[t(n,r,i)]=n}),e}function Eu(n,t){var e={};return t=fi(t,3),Ne(n,function(n,r,i){e[r]=t(n,r,i)}),e}function Su(n,t){return t=fi(t),lr(n,function(n,e){return!t(n,e)})}function Ru(n,t){return null==n?{}:lr(n,fi(t))}function Iu(n,t,e){if(ki(t,n))r=null==n?Q:n[t];else{t=de(t);var r=xu(n,t);n=Ri(n,t)}return r===Q&&(r=e),La(r)?r.call(n):r}function Pu(n,t,e){return null==n?n:vr(n,t,e)}function Tu(n,t,e,r){return r="function"==typeof r?r:Q,null==n?n:vr(n,t,e,r)}function Mu(n){return S(n,Au(n))}function Lu(n){return S(n,Cu(n))}function $u(n,t,e){var r=wc(n)||nu(n);if(t=fi(t,4),null==e)if(r||Fa(n)){var i=n.constructor;e=r?wc(n)?new i:[]:La(i)?Ce(es(n)):{}}else e={};return(r?c:Ne)(n,function(n,r,i){return t(e,n,r,i)}),e}function zu(n,t){return null==n?!0:jr(n,t)}function Fu(n){return n?I(n,Au(n)):[]}function Nu(n){return null==n?[]:I(n,Cu(n))}function Du(n,t,e){return e===Q&&(e=t,t=Q),e!==Q&&(e=su(e),e=e===e?e:0),t!==Q&&(t=su(t),t=t===t?t:0),ke(su(n),t,e)}function qu(n,t,e){return t=su(t)||0,e===Q?(e=t,t=0):e=su(e)||0,n=su(n),He(n,t,e)}function Uu(n,t,e){if(e&&"boolean"!=typeof e&&xi(n,t,e)&&(t=e=Q),e===Q&&("boolean"==typeof t?(e=t,t=Q):"boolean"==typeof n&&(e=n,n=Q)),n===Q&&t===Q?(n=0,t=1):(n=su(n)||0,t===Q?(t=n,n=0):t=su(t)||0),n>t){var r=n;n=t,t=r}if(e||n%1||t%1){var i=ms();return gs(n+i*(t-n+Ee("1e-"+((i+"").length-1))),t)}return dr(n,t)}function Bu(n){return qc(hu(n).toLowerCase())}function Wu(n){return n=hu(n),n&&n.replace(Rt,F).replace(pe,"")}function Hu(n,t,e){n=hu(n),t="string"==typeof t?t:t+"";var r=n.length;return e=e===Q?r:ke(uu(e),0,r),e-=t.length,e>=0&&n.indexOf(t,e)==e}function Ku(n){return n=hu(n),n&&st.test(n)?n.replace(ut,N):n}function Gu(n){return n=hu(n),n&&mt.test(n)?n.replace(vt,"\\$&"):n}function Vu(n,t,e){n=hu(n),t=uu(t);var r=V(n);if(!t||r>=t)return n;var i=(t-r)/2,o=cs(i),a=ss(i);return ti("",o,e)+n+ti("",a,e)}function Ju(n,t,e){return n=hu(n),n+ti(n,t,e)}function Yu(n,t,e){return n=hu(n),ti(n,t,e)+n}function Zu(n,t,e){return e||null==t?t=0:t&&(t=+t),n=hu(n).replace(_t,""),vs(n,t||(jt.test(n)?16:10))}function Qu(n,t){n=hu(n),t=uu(t);var e="";if(!n||1>t||t>jn)return e;do t%2&&(e+=n),t=cs(t/2),n+=n;while(t);return e}function Xu(){var n=arguments,t=hu(n[0]);return n.length<3?t:t.replace(n[1],n[2])}function nl(n,t,e){return hu(n).split(t,e)}function tl(n,t,e){return n=hu(n),e=ke(uu(e),0,n.length),n.lastIndexOf(t,e)==e}function el(n,e,r){var i=t.templateSettings;r&&xi(n,e,r)&&(e=Q),n=hu(n),e=Ac({},e,i,oe);var o,a,u=Ac({},e.imports,i.imports,oe),l=Au(u),s=I(u,l),c=0,f=e.interpolate||It,h="__p += '",p=Nl((e.escape||It).source+"|"+f.source+"|"+(f===ht?xt:It).source+"|"+(e.evaluate||It).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++be+"]")+"\n";n.replace(p,function(t,e,r,i,u,l){return r||(r=i),h+=n.slice(c,l).replace(Pt,D),e&&(o=!0,h+="' +\n__e("+e+") +\n'"),u&&(a=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),h+="';\n";var g=e.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(rt,""):h).replace(it,"$1").replace(ot,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Hc(function(){return Function(l,d+"return "+h).apply(Q,s)});if(v.source=h,Ta(v))throw v;return v}function rl(n){return hu(n).toLowerCase()}function il(n){return hu(n).toUpperCase()}function ol(n,t,e){if(n=hu(n),!n)return n;if(e||t===Q)return n.replace(_t,"");if(t+="",!t)return n;var r=J(n),i=J(t);return r.slice(P(r,i),T(r,i)+1).join("")}function al(n,t,e){if(n=hu(n),!n)return n;if(e||t===Q)return n.replace(bt,"");if(t+="",!t)return n;var r=J(n);return r.slice(0,T(r,J(t))+1).join("")}function ul(n,t,e){if(n=hu(n),!n)return n;if(e||t===Q)return n.replace(yt,"");if(t+="",!t)return n;var r=J(n);return r.slice(P(r,J(t))).join("")}function ll(n,t){var e=pn,r=dn;if(Fa(t)){var i="separator"in t?t.separator:i;e="length"in t?uu(t.length):e,r="omission"in t?hu(t.omission):r}n=hu(n);var o=n.length;if(ge.test(n)){
var a=J(n);o=a.length}if(e>=o)return n;var u=e-V(r);if(1>u)return r;var l=a?a.slice(0,u).join(""):n.slice(0,u);if(i===Q)return l+r;if(a&&(u+=l.length-u),Ja(i)){if(n.slice(u).search(i)){var s,c=l;for(i.global||(i=Nl(i.source,hu(kt.exec(i))+"g")),i.lastIndex=0;s=i.exec(c);)var f=s.index;l=l.slice(0,f===Q?u:f)}}else if(n.indexOf(i,u)!=u){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r}function sl(n){return n=hu(n),n&&lt.test(n)?n.replace(at,Y):n}function cl(n,t,e){return n=hu(n),t=e?Q:t,t===Q&&(t=_e.test(n)?me:ve),n.match(t)||[]}function fl(n){var t=n?n.length:0,e=fi();return n=t?v(n,function(n){if("function"!=typeof n[1])throw new Dl(wn);return[e(n[0]),n[1]]}):[],ca(function(e){for(var r=-1;++r<t;){var i=n[r];if(u(i[0],this,e))return u(i[1],this,e)}})}function hl(n){return Ae(je(n,!0))}function pl(n){return function(){return n}}function dl(n){return n}function gl(n){return Qe("function"==typeof n?n:je(n,!0))}function vl(n){return er(je(n,!0))}function ml(n,t){return rr(n,je(t,!0))}function _l(n,t,e){var r=Au(t),i=qe(t,r);null!=e||Fa(t)&&(i.length||!r.length)||(e=t,t=n,n=this,i=qe(t,Au(t)));var o=Fa(e)&&"chain"in e?e.chain:!0,a=La(n);return c(i,function(e){var r=t[e];n[e]=r,a&&(n.prototype[e]=function(){var t=this.__chain__;if(o||t){var e=n(this.__wrapped__),i=e.__actions__=Fr(this.__actions__);return i.push({func:r,args:arguments,thisArg:n}),e.__chain__=t,e}return r.apply(n,m([this.value()],arguments))})}),n}function yl(){return ze._===this&&(ze._=Vl),this}function bl(){}function wl(n){return n=uu(n),function(){return arguments[n]}}function xl(n){return ki(n)?sr(n):cr(n)}function kl(n){return function(t){return null==n?Q:Ue(n,t)}}function jl(n,t){if(n=uu(n),1>n||n>jn)return[];var e=On,r=gs(n,On);t=he(t),n-=On;for(var i=E(r,t);++e<n;)t(e);return i}function Al(n){return wc(n)?v(n,String):Pi(n)}function Cl(n){var t=++Hl;return hu(n)+t}function Ol(n,t){var e;return n===Q&&t===Q?0:(n!==Q&&(e=n),t!==Q&&(e=e===Q?t:e+t),e)}function El(n){return n&&n.length?w(n,dl,wa):Q}function Sl(n,t){return n&&n.length?w(n,fi(t),wa):Q}function Rl(n){return Ml(n)/(n?n.length:0)}function Il(n){return n&&n.length?w(n,dl,iu):Q}function Pl(n,t){return n&&n.length?w(n,fi(t),iu):Q}function Tl(n,t){var e;return n===Q&&t===Q?0:(n!==Q&&(e=n),t!==Q&&(e=e===Q?t:e-t),e)}function Ml(n){return n&&n.length?O(n,dl):0}function Ll(n,t){return n&&n.length?O(n,fi(t)):0}n=n?Fe.defaults({},n,Fe.pick(ze,ye)):ze;var $l=n.Date,zl=n.Error,Fl=n.Math,Nl=n.RegExp,Dl=n.TypeError,ql=n.Array.prototype,Ul=n.Object.prototype,Bl=n.Function.prototype.toString,Wl=Ul.hasOwnProperty,Hl=0,Kl=Bl.call(Object),Gl=Ul.toString,Vl=ze._,Jl=Nl("^"+Bl.call(Wl).replace(vt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yl=Pe?n.Buffer:Q,Zl=n.Reflect,Ql=n.Symbol,Xl=n.Uint8Array,ns=n.clearTimeout,ts=Zl?Zl.enumerate:Q,es=Object.getPrototypeOf,rs=Object.getOwnPropertySymbols,is="symbol"==typeof(is=Ql&&Ql.iterator)?is:Q,os=Object.create,as=Ul.propertyIsEnumerable,us=n.setTimeout,ls=ql.splice,ss=Fl.ceil,cs=Fl.floor,fs=n.isFinite,hs=ql.join,ps=Object.keys,ds=Fl.max,gs=Fl.min,vs=n.parseInt,ms=Fl.random,_s=ql.reverse,ys=pi(n,"Map"),bs=pi(n,"Set"),ws=pi(n,"WeakMap"),xs=pi(Object,"create"),ks=ws&&new ws,js=ys?Bl.call(ys):"",As=bs?Bl.call(bs):"",Cs=ws?Bl.call(ws):"",Os=Ql?Ql.prototype:Q,Es=Ql?Os.valueOf:Q,Ss=Ql?Os.toString:Q,Rs={};t.templateSettings={escape:ct,evaluate:ft,interpolate:ht,variable:"",imports:{_:t}};var Is=Wr(Ne),Ps=Wr(De,!0),Ts=Hr(),Ms=Hr(!0);ts&&!as.call({valueOf:1},"valueOf")&&(nr=function(n){return W(ts(n))});var Ls=ks?function(n,t){return ks.set(n,t),n}:dl,$s=bs&&2===new bs([1,2]).size?function(n){return new bs(n)}:bl,zs=ks?function(n){return ks.get(n)}:bl,Fs=sr("length"),Ns=rs||function(){return[]};(ys&&gi(new ys)!=Fn||bs&&gi(new bs)!=Un||ws&&gi(new ws)!=Hn)&&(gi=function(n){var t=Gl.call(n),e=t==Dn?n.constructor:null,r="function"==typeof e?Bl.call(e):"";if(r)switch(r){case js:return Fn;case As:return Un;case Cs:return Hn}return t});var Ds=function(){var n=0,t=0;return function(e,r){var i=hc(),o=vn-(i-t);if(t=i,o>0){if(++n>=gn)return e}else n=0;return Ls(e,r)}}(),qs=ca(function(n,t){return wc(n)||(n=null==n?[]:[Object(n)]),t=Le(t,1),s(n,t)}),Us=ca(function(n,t){return Ca(n)?Re(n,Le(t,1,!0)):[]}),Bs=ca(function(n,t){var e=Zi(t);return Ca(e)&&(e=Q),Ca(n)?Re(n,Le(t,1,!0),fi(e)):[]}),Ws=ca(function(n,t){var e=Zi(t);return Ca(e)&&(e=Q),Ca(n)?Re(n,Le(t,1,!0),Q,e):[]}),Hs=ca(function(n){var t=v(n,fe);return t.length&&t[0]===n[0]?Ke(t):[]}),Ks=ca(function(n){var t=Zi(n),e=v(n,fe);return t===Zi(e)?t=Q:e.pop(),e.length&&e[0]===n[0]?Ke(e,fi(t)):[]}),Gs=ca(function(n){var t=Zi(n),e=v(n,fe);return t===Zi(e)?t=Q:e.pop(),e.length&&e[0]===n[0]?Ke(e,Q,t):[]}),Vs=ca(Xi),Js=ca(function(n,t){t=v(Le(t,1),String);var e=ce(n,t);return pr(n,t.sort(L)),e}),Ys=ca(function(n){return kr(Le(n,1,!0))}),Zs=ca(function(n){var t=Zi(n);return Ca(t)&&(t=Q),kr(Le(n,1,!0),fi(t))}),Qs=ca(function(n){var t=Zi(n);return Ca(t)&&(t=Q),kr(Le(n,1,!0),Q,t)}),Xs=ca(function(n,t){return Ca(n)?Re(n,t):[]}),nc=ca(function(n){return Or(p(n,Ca))}),tc=ca(function(n){var t=Zi(n);return Ca(t)&&(t=Q),Or(p(n,Ca),fi(t))}),ec=ca(function(n){var t=Zi(n);return Ca(t)&&(t=Q),Or(p(n,Ca),Q,t)}),rc=ca(wo),ic=ca(function(n){var t=n.length,e=t>1?n[t-1]:Q;return e="function"==typeof e?(n.pop(),e):Q,xo(n,e)}),oc=ca(function(n){n=Le(n,1);var t=n.length,e=t?n[0]:0,o=this.__wrapped__,a=function(t){return ce(t,n)};return!(t>1||this.__actions__.length)&&o instanceof i&&B(e)?(o=o.slice(e,+e+(t?1:0)),o.__actions__.push({func:Oo,args:[a],thisArg:Q}),new r(o,this.__chain__).thru(function(n){return t&&!n.length&&n.push(Q),n})):this.thru(a)}),ac=Ur(function(n,t,e){Wl.call(n,e)?++n[e]:n[e]=1}),uc=Ur(function(n,t,e){Wl.call(n,e)?n[e].push(t):n[e]=[t]}),lc=ca(function(n,t,e){var r=-1,i="function"==typeof t,o=ki(t),a=Aa(n)?Array(n.length):[];return Is(n,function(n){var l=i?t:o&&null!=n?n[t]:Q;a[++r]=l?u(l,n,e):Ve(n,t,e)}),a}),sc=Ur(function(n,t,e){n[e]=t}),cc=Ur(function(n,t,e){n[e?0:1].push(t)},function(){return[[],[]]}),fc=ca(function(n,t){if(null==n)return[];var e=t.length;return e>1&&xi(n,t[0],t[1])?t=[]:e>2&&xi(t[0],t[1],t[2])&&(t.length=1),ar(n,Le(t,1),[])}),hc=$l.now,pc=ca(function(n,t,e){var r=nn;if(e.length){var i=K(e,di(pc));r|=an}return ai(n,r,t,e,i)}),dc=ca(function(n,t,e){var r=nn|tn;if(e.length){var i=K(e,di(dc));r|=an}return ai(t,r,n,e,i)}),gc=ca(function(n,t){return Oe(n,1,t)}),vc=ca(function(n,t,e){return Oe(n,su(t)||0,e)}),mc=ca(function(n,t){t=v(Le(t,1),fi());var e=t.length;return ca(function(r){for(var i=-1,o=gs(r.length,e);++i<o;)r[i]=t[i].call(this,r[i]);return u(n,this,r)})}),_c=ca(function(n,t){var e=K(t,di(_c));return ai(n,an,Q,t,e)}),yc=ca(function(n,t){var e=K(t,di(yc));return ai(n,un,Q,t,e)}),bc=ca(function(n,t){return ai(n,sn,Q,Q,Q,Le(t,1))}),wc=Array.isArray,xc=Yl?function(n){return n instanceof Yl}:pl(!1),kc=Br(function(n,t){Nr(t,Au(t),n)}),jc=Br(function(n,t){Nr(t,Cu(t),n)}),Ac=Br(function(n,t,e,r){Dr(t,Cu(t),n,r)}),Cc=Br(function(n,t,e,r){Dr(t,Au(t),n,r)}),Oc=ca(function(n,t){return ce(n,Le(t,1))}),Ec=ca(function(n){return n.push(Q,oe),u(Ac,Q,n)}),Sc=ca(function(n){return n.push(Q,Si),u(Mc,Q,n)}),Rc=Xr(function(n,t,e){n[t]=e},pl(dl)),Ic=Xr(function(n,t,e){Wl.call(n,t)?n[t].push(e):n[t]=[e]},fi),Pc=ca(Ve),Tc=Br(function(n,t,e){ir(n,t,e)}),Mc=Br(function(n,t,e,r){ir(n,t,e,r)}),Lc=ca(function(n,t){return null==n?{}:(t=v(Le(t,1),String),ur(n,Re(Cu(n),t)))}),$c=ca(function(n,t){return null==n?{}:ur(n,Le(t,1))}),zc=Vr(function(n,t,e){return t=t.toLowerCase(),n+(e?Bu(t):t)}),Fc=Vr(function(n,t,e){return n+(e?"-":"")+t.toLowerCase()}),Nc=Vr(function(n,t,e){return n+(e?" ":"")+t.toLowerCase()}),Dc=Gr("toLowerCase"),qc=Gr("toUpperCase"),Uc=Vr(function(n,t,e){return n+(e?"_":"")+t.toLowerCase()}),Bc=Vr(function(n,t,e){return n+(e?" ":"")+Bu(t)}),Wc=Vr(function(n,t,e){return n+(e?" ":"")+t.toUpperCase()}),Hc=ca(function(n,t){try{return u(n,Q,t)}catch(e){return Ta(e)?e:new zl(e)}}),Kc=ca(function(n,t){return c(Le(t,1),function(t){n[t]=pc(n[t],n)}),n}),Gc=Zr(),Vc=Zr(!0),Jc=ca(function(n,t){return function(e){return Ve(e,n,t)}}),Yc=ca(function(n,t){return function(e){return Ve(n,e,t)}}),Zc=ni(v),Qc=ni(h),Xc=ni(b),nf=ri(),tf=ri(!0),ef=oi("ceil"),rf=oi("floor"),of=oi("round");return t.prototype=e.prototype,r.prototype=Ce(e.prototype),r.prototype.constructor=r,i.prototype=Ce(e.prototype),i.prototype.constructor=i,Mt.prototype=xs?xs(null):Ul,Nt.prototype.clear=Dt,Nt.prototype["delete"]=qt,Nt.prototype.get=Ut,Nt.prototype.has=Bt,Nt.prototype.set=Wt,Ht.prototype.push=Gt,Vt.prototype.clear=Jt,Vt.prototype["delete"]=Yt,Vt.prototype.get=Zt,Vt.prototype.has=Qt,Vt.prototype.set=Xt,ua.Cache=Nt,t.after=na,t.ary=ta,t.assign=kc,t.assignIn=jc,t.assignInWith=Ac,t.assignWith=Cc,t.at=Oc,t.before=ea,t.bind=pc,t.bindAll=Kc,t.bindKey=dc,t.castArray=ga,t.chain=Ao,t.chunk=Mi,t.compact=Li,t.concat=qs,t.cond=fl,t.conforms=hl,t.constant=pl,t.countBy=ac,t.create=pu,t.curry=ra,t.curryRight=ia,t.debounce=oa,t.defaults=Ec,t.defaultsDeep=Sc,t.defer=gc,t.delay=vc,t.difference=Us,t.differenceBy=Bs,t.differenceWith=Ws,t.drop=$i,t.dropRight=zi,t.dropRightWhile=Fi,t.dropWhile=Ni,t.fill=Di,t.filter=zo,t.flatMap=Do,t.flatten=Bi,t.flattenDeep=Wi,t.flattenDepth=Hi,t.flip=aa,t.flow=Gc,t.flowRight=Vc,t.fromPairs=Ki,t.functions=bu,t.functionsIn=wu,t.groupBy=uc,t.initial=Ji,t.intersection=Hs,t.intersectionBy=Ks,t.intersectionWith=Gs,t.invert=Rc,t.invertBy=Ic,t.invokeMap=lc,t.iteratee=gl,t.keyBy=sc,t.keys=Au,t.keysIn=Cu,t.map=Wo,t.mapKeys=Ou,t.mapValues=Eu,t.matches=vl,t.matchesProperty=ml,t.memoize=ua,t.merge=Tc,t.mergeWith=Mc,t.method=Jc,t.methodOf=Yc,t.mixin=_l,t.negate=la,t.nthArg=wl,t.omit=Lc,t.omitBy=Su,t.once=sa,t.orderBy=Ho,t.over=Zc,t.overArgs=mc,t.overEvery=Qc,t.overSome=Xc,t.partial=_c,t.partialRight=yc,t.partition=cc,t.pick=$c,t.pickBy=Ru,t.property=xl,t.propertyOf=kl,t.pull=Vs,t.pullAll=Xi,t.pullAllBy=no,t.pullAt=Js,t.range=nf,t.rangeRight=tf,t.rearg=bc,t.reject=Vo,t.remove=to,t.rest=ca,t.reverse=eo,t.sampleSize=Yo,t.set=Pu,t.setWith=Tu,t.shuffle=Zo,t.slice=ro,t.sortBy=fc,t.sortedUniq=co,t.sortedUniqBy=fo,t.split=nl,t.spread=fa,t.tail=ho,t.take=po,t.takeRight=go,t.takeRightWhile=vo,t.takeWhile=mo,t.tap=Co,t.throttle=ha,t.thru=Oo,t.toArray=au,t.toPairs=Mu,t.toPairsIn=Lu,t.toPath=Al,t.toPlainObject=cu,t.transform=$u,t.unary=pa,t.union=Ys,t.unionBy=Zs,t.unionWith=Qs,t.uniq=_o,t.uniqBy=yo,t.uniqWith=bo,t.unset=zu,t.unzip=wo,t.unzipWith=xo,t.values=Fu,t.valuesIn=Nu,t.without=Xs,t.words=cl,t.wrap=da,t.xor=nc,t.xorBy=tc,t.xorWith=ec,t.zip=rc,t.zipObject=ko,t.zipObjectDeep=jo,t.zipWith=ic,t.extend=jc,t.extendWith=Ac,_l(t,t),t.add=Ol,t.attempt=Hc,t.camelCase=zc,t.capitalize=Bu,t.ceil=ef,t.clamp=Du,t.clone=va,t.cloneDeep=_a,t.cloneDeepWith=ya,t.cloneWith=ma,t.deburr=Wu,t.endsWith=Hu,t.eq=ba,t.escape=Ku,t.escapeRegExp=Gu,t.every=$o,t.find=Fo,t.findIndex=qi,t.findKey=du,t.findLast=No,t.findLastIndex=Ui,t.findLastKey=gu,t.floor=rf,t.forEach=qo,t.forEachRight=Uo,t.forIn=vu,t.forInRight=mu,t.forOwn=_u,t.forOwnRight=yu,t.get=xu,t.gt=wa,t.gte=xa,t.has=ku,t.hasIn=ju,t.head=Gi,t.identity=dl,t.includes=Bo,t.indexOf=Vi,t.inRange=qu,t.invoke=Pc,t.isArguments=ka,t.isArray=wc,t.isArrayBuffer=ja,t.isArrayLike=Aa,t.isArrayLikeObject=Ca,t.isBoolean=Oa,t.isBuffer=xc,t.isDate=Ea,t.isElement=Sa,t.isEmpty=Ra,t.isEqual=Ia,t.isEqualWith=Pa,t.isError=Ta,t.isFinite=Ma,t.isFunction=La,t.isInteger=$a,t.isLength=za,t.isMap=Da,t.isMatch=qa,t.isMatchWith=Ua,t.isNaN=Ba,t.isNative=Wa,t.isNil=Ka,t.isNull=Ha,t.isNumber=Ga,t.isObject=Fa,t.isObjectLike=Na,t.isPlainObject=Va,t.isRegExp=Ja,t.isSafeInteger=Ya,t.isSet=Za,t.isString=Qa,t.isSymbol=Xa,t.isTypedArray=nu,t.isUndefined=tu,t.isWeakMap=eu,t.isWeakSet=ru,t.join=Yi,t.kebabCase=Fc,t.last=Zi,t.lastIndexOf=Qi,t.lowerCase=Nc,t.lowerFirst=Dc,t.lt=iu,t.lte=ou,t.max=El,t.maxBy=Sl,t.mean=Rl,t.min=Il,t.minBy=Pl,t.noConflict=yl,t.noop=bl,t.now=hc,t.pad=Vu,t.padEnd=Ju,t.padStart=Yu,t.parseInt=Zu,t.random=Uu,t.reduce=Ko,t.reduceRight=Go,t.repeat=Qu,t.replace=Xu,t.result=Iu,t.round=of,t.runInContext=Z,t.sample=Jo,t.size=Qo,t.snakeCase=Uc,t.some=Xo,t.sortedIndex=io,t.sortedIndexBy=oo,t.sortedIndexOf=ao,t.sortedLastIndex=uo,t.sortedLastIndexBy=lo,t.sortedLastIndexOf=so,t.startCase=Bc,t.startsWith=tl,t.subtract=Tl,t.sum=Ml,t.sumBy=Ll,t.template=el,t.times=jl,t.toInteger=uu,t.toLength=lu,t.toLower=rl,t.toNumber=su,t.toSafeInteger=fu,t.toString=hu,t.toUpper=il,t.trim=ol,t.trimEnd=al,t.trimStart=ul,t.truncate=ll,t.unescape=sl,t.uniqueId=Cl,t.upperCase=Wc,t.upperFirst=qc,t.each=qo,t.eachRight=Uo,t.first=Gi,_l(t,function(){var n={};return Ne(t,function(e,r){Wl.call(t.prototype,r)||(n[r]=e)}),n}(),{chain:!1}),t.VERSION=X,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){t[n].placeholder=t}),c(["drop","take"],function(n,t){i.prototype[n]=function(e){var r=this.__filtered__;if(r&&!t)return new i(this);e=e===Q?1:ds(uu(e),0);var o=this.clone();return r?o.__takeCount__=gs(e,o.__takeCount__):o.__views__.push({size:gs(e,On),type:n+(o.__dir__<0?"Right":"")}),o},i.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),c(["filter","map","takeWhile"],function(n,t){var e=t+1,r=e==_n||e==bn;i.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:fi(n,3),type:e}),t.__filtered__=t.__filtered__||r,t}}),c(["head","last"],function(n,t){var e="take"+(t?"Right":"");i.prototype[n]=function(){return this[e](1).value()[0]}}),c(["initial","tail"],function(n,t){var e="drop"+(t?"":"Right");i.prototype[n]=function(){return this.__filtered__?new i(this):this[e](1)}}),i.prototype.compact=function(){return this.filter(dl)},i.prototype.find=function(n){return this.filter(n).head()},i.prototype.findLast=function(n){return this.reverse().find(n)},i.prototype.invokeMap=ca(function(n,t){return"function"==typeof n?new i(this):this.map(function(e){return Ve(e,n,t)})}),i.prototype.reject=function(n){return n=fi(n,3),this.filter(function(t){return!n(t)})},i.prototype.slice=function(n,t){n=uu(n);var e=this;return e.__filtered__&&(n>0||0>t)?new i(e):(0>n?e=e.takeRight(-n):n&&(e=e.drop(n)),t!==Q&&(t=uu(t),e=0>t?e.dropRight(-t):e.take(t-n)),e)},i.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},i.prototype.toArray=function(){return this.take(On)},Ne(i.prototype,function(n,e){var o=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),u=t[a?"take"+("last"==e?"Right":""):e],l=a||/^find/.test(e);u&&(t.prototype[e]=function(){var e=this.__wrapped__,s=a?[1]:arguments,c=e instanceof i,f=s[0],h=c||wc(e),p=function(n){var e=u.apply(t,m([n],s));return a&&d?e[0]:e};h&&o&&"function"==typeof f&&1!=f.length&&(c=h=!1);var d=this.__chain__,g=!!this.__actions__.length,v=l&&!d,_=c&&!g;if(!l&&h){e=_?e:new i(this);var y=n.apply(e,s);return y.__actions__.push({func:Oo,args:[p],thisArg:Q}),new r(y,d)}return v&&_?n.apply(this,s):(y=this.thru(p),v?a?y.value()[0]:y.value():y)})}),c(["pop","push","shift","sort","splice","unshift"],function(n){var e=ql[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",i=/^(?:pop|shift)$/.test(n);t.prototype[n]=function(){var n=arguments;return i&&!this.__chain__?e.apply(this.value(),n):this[r](function(t){return e.apply(t,n)})}}),Ne(i.prototype,function(n,e){var r=t[e];if(r){var i=r.name+"",o=Rs[i]||(Rs[i]=[]);o.push({name:e,func:r})}}),Rs[Qr(Q,tn).name]=[{name:"wrapper",func:Q}],i.prototype.clone=M,i.prototype.reverse=St,i.prototype.value=Tt,t.prototype.at=oc,t.prototype.chain=Eo,t.prototype.commit=So,t.prototype.flatMap=Ro,t.prototype.next=Io,t.prototype.plant=To,t.prototype.reverse=Mo,t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Lo,is&&(t.prototype[is]=Po),t}var Q,X="4.5.1",nn=1,tn=2,en=4,rn=8,on=16,an=32,un=64,ln=128,sn=256,cn=512,fn=1,hn=2,pn=30,dn="...",gn=150,vn=16,mn=200,_n=1,yn=2,bn=3,wn="Expected a function",xn="__lodash_hash_undefined__",kn=1/0,jn=9007199254740991,An=1.7976931348623157e308,Cn=NaN,On=4294967295,En=On-1,Sn=On>>>1,Rn="__lodash_placeholder__",In="[object Arguments]",Pn="[object Array]",Tn="[object Boolean]",Mn="[object Date]",Ln="[object Error]",$n="[object Function]",zn="[object GeneratorFunction]",Fn="[object Map]",Nn="[object Number]",Dn="[object Object]",qn="[object RegExp]",Un="[object Set]",Bn="[object String]",Wn="[object Symbol]",Hn="[object WeakMap]",Kn="[object WeakSet]",Gn="[object ArrayBuffer]",Vn="[object Float32Array]",Jn="[object Float64Array]",Yn="[object Int8Array]",Zn="[object Int16Array]",Qn="[object Int32Array]",Xn="[object Uint8Array]",nt="[object Uint8ClampedArray]",tt="[object Uint16Array]",et="[object Uint32Array]",rt=/\b__p \+= '';/g,it=/\b(__p \+=) '' \+/g,ot=/(__e\(.*?\)|\b__t\)) \+\n'';/g,at=/&(?:amp|lt|gt|quot|#39|#96);/g,ut=/[&<>"'`]/g,lt=RegExp(at.source),st=RegExp(ut.source),ct=/<%-([\s\S]+?)%>/g,ft=/<%([\s\S]+?)%>/g,ht=/<%=([\s\S]+?)%>/g,pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dt=/^\w*$/,gt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,vt=/[\\^$.*+?()[\]{}|]/g,mt=RegExp(vt.source),_t=/^\s+|\s+$/g,yt=/^\s+/,bt=/\s+$/,wt=/\\(\\)?/g,xt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kt=/\w*$/,jt=/^0x/i,At=/^[-+]0x[0-9a-f]+$/i,Ct=/^0b[01]+$/i,Ot=/^\[object .+?Constructor\]$/,Et=/^0o[0-7]+$/i,St=/^(?:0|[1-9]\d*)$/,Rt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,It=/($^)/,Pt=/['\n\r\u2028\u2029\\]/g,Tt="\\ud800-\\udfff",Mt="\\u0300-\\u036f\\ufe20-\\ufe23",Lt="\\u20d0-\\u20f0",$t="\\u2700-\\u27bf",zt="a-z\\xdf-\\xf6\\xf8-\\xff",Ft="\\xac\\xb1\\xd7\\xf7",Nt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Dt="\\u2018\\u2019\\u201c\\u201d",qt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ut="A-Z\\xc0-\\xd6\\xd8-\\xde",Bt="\\ufe0e\\ufe0f",Wt=Ft+Nt+Dt+qt,Ht="["+Tt+"]",Kt="["+Wt+"]",Gt="["+Mt+Lt+"]",Vt="\\d+",Jt="["+$t+"]",Yt="["+zt+"]",Zt="[^"+Tt+Wt+Vt+$t+zt+Ut+"]",Qt="\\ud83c[\\udffb-\\udfff]",Xt="(?:"+Gt+"|"+Qt+")",ne="[^"+Tt+"]",te="(?:\\ud83c[\\udde6-\\uddff]){2}",ee="[\\ud800-\\udbff][\\udc00-\\udfff]",re="["+Ut+"]",ie="\\u200d",oe="(?:"+Yt+"|"+Zt+")",ae="(?:"+re+"|"+Zt+")",ue=Xt+"?",le="["+Bt+"]?",se="(?:"+ie+"(?:"+[ne,te,ee].join("|")+")"+le+ue+")*",ce=le+ue+se,fe="(?:"+[Jt,te,ee].join("|")+")"+ce,he="(?:"+[ne+Gt+"?",Gt,te,ee,Ht].join("|")+")",pe=RegExp(Gt,"g"),de=RegExp(Qt+"(?="+Qt+")|"+he+ce,"g"),ge=RegExp("["+ie+Tt+Mt+Lt+Bt+"]"),ve=/[a-zA-Z0-9]+/g,me=RegExp([re+"?"+Yt+"+(?="+[Kt,re,"$"].join("|")+")",ae+"+(?="+[Kt,re+oe,"$"].join("|")+")",re+"?"+oe+"+",re+"+",Vt,fe].join("|"),"g"),_e=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ye=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],be=-1,we={};we[Vn]=we[Jn]=we[Yn]=we[Zn]=we[Qn]=we[Xn]=we[nt]=we[tt]=we[et]=!0,we[In]=we[Pn]=we[Gn]=we[Tn]=we[Mn]=we[Ln]=we[$n]=we[Fn]=we[Nn]=we[Dn]=we[qn]=we[Un]=we[Bn]=we[Hn]=!1;var xe={};xe[In]=xe[Pn]=xe[Gn]=xe[Tn]=xe[Mn]=xe[Vn]=xe[Jn]=xe[Yn]=xe[Zn]=xe[Qn]=xe[Fn]=xe[Nn]=xe[Dn]=xe[qn]=xe[Un]=xe[Bn]=xe[Wn]=xe[Xn]=xe[nt]=xe[tt]=xe[et]=!0,xe[Ln]=xe[$n]=xe[Hn]=!1;var ke={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},je={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ae={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ce={"function":!0,object:!0},Oe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ee=parseFloat,Se=parseInt,Re=Ce[typeof t]&&t&&!t.nodeType?t:Q,Ie=Ce[typeof n]&&n&&!n.nodeType?n:Q,Pe=Ie&&Ie.exports===Re?Re:Q,Te=M(Re&&Ie&&"object"==typeof i&&i),Me=M(Ce[typeof self]&&self),Le=M(Ce[typeof window]&&window),$e=M(Ce[typeof this]&&this),ze=Te||Le!==($e&&$e.window)&&Le||Me||$e||Function("return this")(),Fe=Z();(Le||Me||{})._=Fe,r=function(){return Fe}.call(t,e,t,n),!(r!==Q&&(n.exports=r))}).call(this)}).call(t,e(2)(n),function(){return this}())},function(n,t){n.exports="2016/08/24/reading-mithriljs-2.yml\n2016/08/22/reading-mithriljs.yml\n2016/07/29/js-test-with-karma-webpack-es6.yml\n2016/05/05/module-global-vs-class-variable.yml\n2016/04/14/rop.yml\n2016/03/21/pipe.yml\n2016/03/19/v8-optimization.yml\n2016/03/13/pyazo.yml\n2016/02/26/expert-python-chapter3.yml\n2016/02/21/mithrilify.yml\n2016/02/14/moved-to-gh-page.yml"},function(n,t,e){function r(n){return e(i(n))}function i(n){return o[n]||function(){throw new Error("Cannot find module '"+n+"'.")}()}var o={"./2016/02/14/moved-to-gh-page.yml":13,"./2016/02/21/mithrilify.yml":14,"./2016/02/26/expert-python-chapter3.yml":15,"./2016/03/13/pyazo.yml":16,"./2016/03/19/v8-optimization.yml":17,"./2016/03/21/pipe.yml":18,"./2016/04/14/rop.yml":19,"./2016/05/05/module-global-vs-class-variable.yml":20,"./2016/07/29/js-test-with-karma-webpack-es6.yml":21,"./2016/08/22/reading-mithriljs.yml":22,"./2016/08/24/reading-mithriljs-2.yml":23,"./index.txt":24};r.keys=function(){return Object.keys(o)},r.resolve=i,n.exports=r,r.id=12},function(n,t){n.exports={title:"github pagesに引越し",slug:"moved-to-gh-page",utime:1455438723,date:"2016/02/14 17:32:03",tags:["misc"],publish:!0,body:"jekyllとか色々覚えることが多そうなのでpythonで必要最低限のhtmlのジェネレータを作ってgithub pagesにお引越ししてみました。\n\n記事の情報はyamlで管理して、そいつをパースしてhtmlに吐き出すという感じにしてるのですが、自分しか使わないしかなり雑。\n\n記事の情報管理をyamlでやるのはすごくいいということがわかってきました。\n\nyamlは\n```yaml\ntitle: github pagesに引越し\nslug: moved_to_gh_page\nutime: 1455438723\ndate: 2016/02/14 17:32:03\ntags:\n  - タグ\nactive: true\nbody: |-\n  ほにゃらら\n```\n\nという構成にしていて、こいつをpythonのPyYamlで読み込んだ結果をjinja2で書いたテンプレートにrenderしてやるようにしています。\n\n面倒なのが、リポジトリのトップにあるindex.htmlへ記事の追加を反映しなくてはいけないので都度ビルドコマンドを叩くようにしています。\n\nこの辺はいちいちコマンドを叩かずに変更を監視して自動でビルドするようにしたいなぁと。\n\nまあとにかくブログに特化するというのであればgithub pagesでもイケそうな気がする。"}},function(n,t){n.exports={title:"github pagesの構成を変えた",slug:"mithrilify",utime:1456047517,date:"2016/02/21 18:38:37",tags:["python","javascript","mithril","webpack"],publish:!0,body:"引越しをした時は、pythonで記事データになるyamlファイルをビルドしてhtmlをした後にindex.htmlにリンクを載せるという方法を取っていました。\n\nこのやり方でも問題はないんですが、yamlとhtmlが重複してしまいなんともいけてない感じがしたので、yamlをjsで読み取る方法にしました。\n\nどうせgithubがストレージなんだし記事の目録を作ってやってjsでyamlファイルをパースしてやればええがなという動機です。SPAの利です。\n\njsのフレームワークはなんとなく好きなmithrilを使って組んでいます。ブログみたいな単純なものならちょろっと書けるので最高。\n\nでも結局は、目録を作るというのに変わっただけで記事を新規作成ないし削除をしたら目録を更新しないといけません。circleciとか使ってうまくできないか調べよう。\n\nところで、webpackのloaderは本当に最高で何も考えずにただただ`yaml-loader`を使えば全てが丸く収まるのでもうwebpackから抜け出せなくなりました。\n\nガンガン使っていきましょう。"}},function(n,t){n.exports={title:"pythonの__new__とかtypeなど",slug:"expert-python-chapter3",utime:1456457568,date:"2016/02/26 12:32:48",tags:["python"],publish:!0,body:"pythonコードの読み書き練習のために便利ツールの[percol](https://github.com/mooz/percol)のリファクタリングを始めました。\n\n`percol.finder`という文字列検索処理をしてるっぽいモジュールでメタクラスが使われていたのでメタクラスについてエキパイを読み直しました。\n\nつっても、`percol.finder.Finder`クラスは[ただの抽象基底クラスというだけっぽい。](https://github.com/mooz/percol/blob/master/percol/finder.py#L11-L37)\n\nメタプログラミングなんて高度なことをする場面は中々ないと思うけど、とりあえず`__new__`と`type()`について忘れたくないのでメモ。\n\n```\n$ python -V\nPython 3.5.0\n```\n\n# \\_\\_new\\_\\_\n`__new__`はインスタンスを作成しようとする時に毎回実行される。エキパイ的には`meta-constructor`と説明されている。\n\n```python\nclass C(object):\n  def __new__(cls, *args, **kwargs):\n      print('args: {}'.format(args))\n      print('kargs: {}'.format(kwargs))\n      print('__new__ called.')\n      ins = object.__new__(cls)\n      print('created instance')\n      ins.hoge = 'hoge'\n      return ins\n\n  def __init__(self, arg):\n      print('__init__ called.')\n      self._fuga = arg\n\n  @property\n  def fuga(self):\n      return self._fuga + self.hoge\n\n\nprint(C('fuga').fuga)\n# args: ('fuga',)\n# kargs: {}\n# __new__ called.\n# created instance\n# __init__ called.\n# fugahoge\n```\n\n`__new__`はクラスオブジェクトを引数にとって必ずインスタンスを返さなくてはいけない。つまり、インスタンスを作成する前にクラスオブジェクトを煮るなる焼くなり自由にいじり倒すことができるわけだ。\n\nで、この`C`クラスを継承した場合、子クラスから親クラスの`__init__()`を呼び出すには`super()`をしないといけない。\n\n```pytyhon\nclass C(object):\n    def __new__(cls, *args, **kwargs):\n        print('C.__new__ called.')\n        return object.__new__(cls)\n\n    def __init__(self):\n        print('C.__init__ called.')\n\n\nclass D(C):\n    def __init__(self):\n        print('D.__init__() called')\n\n\nclass E(C):\n    def __init__(self):\n        super().__init__()\n        print('E.__init__() called')\n\n\nprint(D())\n# C.__new__ called.\n# D.__init__() called\n# <__main__.D object at 0x104616f28>\n\nprint(E())\n# C.__new__ called.\n# C.__init__ called.\n# E.__init__() called\n# <__main__.E object at 0x104616f98>\n```\n\nなるほど。\n\n# metaclassとtype\n`metaclass`はクラスのコンストラクタに渡すキーワード引数になる。python2では`__metaclass__`というクラス属性。\n\n`metaclass`は`type()`と同じ形式の引数を取る関数が指定する。\n\n```python\ndef mymetaclass(cls, base, _dict):\n  if '__cat__' in _dict:\n      _dict['__cat__'] = \\\n          'oh! my {}'.format(_dict.get('__cat__', ''))\n  return type(cls, base, _dict)\n\n\nclass A(object, metaclass=mymetaclass):\n    __cat__ = 'neko'\n\n\nprint(a.__cat__)\n# oh! my neko\n```\n\n全く実用的な例ではないけど、クラスの属性を自由に操作できる。というか、`type()`に渡す基底クラスを変えてしまえば自由にクラスオブジェクトを変更できてしまう。\n\nエキパイにも\n\n>For changing the read-write attributes or adding new ones, metaclasses can be avoided for simpler solutions, based on dynamic changes over the class instance.\n\nというふうに書いてあるし、そう気軽に使っていいものではないことがわかる。(というか、使えないだろう。)\n\nで、エキパイのこのチャプタの最後にクラスを拡張するパッチの実装があるのでほぼ丸コピ。\n\n```python\ndef enhancer_1(cls):\n  cls.contracted_name = ''.join(\n      l for l in cls.__name__ if l.isupper()\n  )\n\n\ndef enhancer_2(cls):\n    def logger(func):\n        def wrapper(*args, **kwargs):\n            print('logging!')\n            return func(*args, **kwargs)\n        return wrapper\n    for el in dir(cls):\n        if el.startswith('_'):\n            continue\n        v = getattr(cls, el)\n        if not hasattr(v, '__func__'):\n            continue\n        setattr(cls, el, logger(v))\n\n\ndef enhance(cls, *enhancers):\n    for e in enhancers:\n        e(cls)\n\n\nclass ThisIsMyClass(object):\n    def hi(self):\n        return 'hi'\n\n\nenhance(ThisIsMyClass, enhancer_1, enhancer_2)\nins = ThisIsMyClass()\nassert ins.hi() == 'hi'\nassert ins.__class__.contracted_name == 'TIMC'\n```\n\nなお、メタプログラミングを使うべき時が来、適切に使える時が来るのかガチ不明。"}},function(n,t){n.exports={title:"Gyazo APIのクライアントを雑に作った",slug:"pyazo",utime:1457828361,date:"2016/03/13 09:19:21",tags:["python"],publish:!0,body:"Gyazo APIが非常にシンプルなため本当にシンプルな面白みのない実装になりました。\n\n[pypi](https://pypi.python.org/pypi/pyazo)\n\n[github](https://github.com/mtwtkman/pyazo)\n\npyazoって名前は別言語でかぶってたりしてアレ感ある。\n\nところでこういう外部のAPIのテストってどうしたらいいんじゃろ"}},function(n,t){n.exports={title:"V8で最適化されないjavascript",slug:"v8-optimization",utime:1458391960,date:"2016/03/19 21:52:40",tags:["javascript"],publish:!0,body:"[mithril](https://github.com/lhorie/mithril.js)のコードを読んでいて`for`文で`argumets`の要素をぐるぐる回しながらインデクスアクセスをして配列にデータを詰め込んでる処理が気持ち悪かったので`map`にしてプルリクしたところ、\nパフォーマンスを理由にリジェクトされました。\n\nで、そのプルリクでもらった返答にV8の最適化についてのリンクを併記してもらっていたので読むことにしました。\n\nちなみに[プルリクで修正した内容](https://github.com/lhorie/mithril.js/pull/993/commits/f384054947681d10696fcfeb2fab71f2a40dde1d)はクソ単純で\nArraylikeな`arguments`を`slice`で回すというものです。\n\n[Optimization killersのリンク](https://github.com/petkaantonov/bluebird/wiki/Optimization-killers)\n\n# Unsupported syntax\n2016/3/19現在、V8で最適化できない構文がいくつかある。\n\n- Generator functions\n- Functions that contain a for-of statement\n- Functions that contain a try-catch statement\n- Functions that contain a try-finally statement\n- Functions that contain a compound let assignment\n- Functions that contain a compound const assignment\n- Functions that contain object literals that contain __proto__, or get or set declarations.\n\n`try`文ダメってキツそう。あと`for-of`が最適化されないのもつらい。まあ`for-of`が最適化されるならそっち使うよな。\n\ngeneratorもダメとは…こう見ると単純にES2015以降に対応しきれていないだけという感じか。\n\nあとは↓の場合もダメっぽい\n\n- Functions that contain a debugger statement\n- Functions that call literally eval()\n- Functions that contain a with statement\n\nVBAみたいで悔しい思いをしそうな`with`を使うことはない気がするけど、`eval`や`with`を最適化ができない理由はスコープの判定ができないからとのことらしい。(曖昧)\n\nで、プロダクトコードで例外処理を避けるわけにもいかんということでワークアラウンドなコード例が書いてあったのでそのまま引用。\n\n```javascript\nvar errorObject = {value: null};\nfunction tryCatch(fn, ctx, args) {\n    try {\n        return fn.apply(ctx, args);\n    }\n    catch(e) {\n        errorObject.value = e;\n        return errorObject;\n    }\n}\n\nvar result = tryCatch(mightThrow, void 0, [1,2,3]);\n//Unambiguously tells whether the call threw\nif(result === errorObject) {\n    var error = errorObject.value;\n}\nelse {\n    //result is the returned value\n}\n```\n\nエラーハンドリングは独立した最小限の関数に切り出すのが良いらしい。\nそうすれば最適化されない範囲が最小限になるということだ。\n\n\n# Managing `arguments`\n`arguments`は最適化を阻害する多数の原因になりうるやつだそうだ。\n\n## 1. sloppyモード(=strictモードじゃないやつ)で`arguments`を評価しながら定義済みの引数に再代入する場合\n何言ってんだ？？？？例を見てみよう\n\n```javascript\nfunction defaultArgsReassign(a, b) {\n  if (arguments.length < 2) b = 5;\n}\n```\n\nとにかくこれがダメということらしい。じゃあどうしたらいいのかというと引数の値を新しい変数に保存しましょうとのこと\n\n```javascript\nfunction reAssignParam(a, b_) {\n  var b = b_;\n  //unlike b_, b can safely be reassigned\n  if (arguments.length < 2) b = 5;\n}\n```\n\nただし、今回の場合だとただ引数が与えられているのかをチェックしているだけなので下記のように書くのがいいっぽい。\n\n```javascript\nfunction reAssignParam(a, b) {\n  if (b === void 0) b = 5;\n}\n```\n\nまあでもおとなしく端からstrictモードにしておけば考える必要のない問題ですね。\n\n## 2. `arguments`漏れ\n```javascript\nfunction leaksArguments1() {\n  return arguments;\n}\n\nfunction leaksArguments2() {\n  var args = [].slice.call(arguments);\n}\n\nfunction leaksArguments3() {\n  var a = arguments;\n  return function() {\n      return a;\n  };\n}\n```\n\n今回のプルリクで指摘されたのが`leaksArguments2`と同じケースだった。`arguments`はどこにも漏らしたり渡したりしてはいけないらしい。\n\nつまり`slice.call`や`map`の引数に渡すのはご法度いうわけだ。対処法は以下(mithrilの`m()`でまさに下の実装になっていた)\n\n```javascript\nfunction doesntLeakArguments() {\n                  //.length is just an integer, this doesn't leak\n                  //the arguments object itself\n  var args = new Array(arguments.length);\n  for(var i = 0; i < args.length; ++i) {\n              //i is always valid index in the arguments object\n      args[i] = arguments[i];\n  }\n  return args;\n}\n```\n\n## 3. `arguments`への代入\nこんなことする必要性がないと思うけど、これも例によってsloppyモードの時だけ。\n\n```javascript\nfunction assignToArguments() {\n  arguments = 3;\n  return arguments;\n}\n```\n\n## 結局のところ`arguments`はどうやったら安全に扱えるのか\n以下を厳守すればok\n\n- `arguments.length`使おう。\n- 適切なインデクスアクセスで`arguments`の要素を取得する。で、そいつは外に出さない。\n- `argumets`を**絶対に**直接扱わない。`.length`やインデクスアクセスは`arguments`そのものじゃないからおk。\n- **厳密に言えば**`fn.apply(y, arguments)`はおk。他はいかなる場合もダメ。例えば`.slice`とか。 `Function#apply`だけが特別。\n- `Function#apply`を使って関数のプロパティを追加するときと`Function#bind`で隠れクラスができてしまうような場合に気をつける。\n\n\n# Switch-case\n`switch`文は`case`の節が128を超えると最適化がされなくなる。なので`if-else`使おう。\n\n# For-in\n幾つかの場合で最適化を妨げることになる。\n\n## 1. キーがローカル変数でない場合\n```javascript\nfunction nonLocalKey1() {\n  var obj = {}\n  for(var key in obj);\n  return function() {\n      return key;\n  };\n}\n\nvar key;\nfunction nonLocalKey2() {\n  var obj = {}\n  for(key in obj);\n}\n```\n\nそもそもオブジェクトのキーは上のスコープから参照できない。純粋にローカルスコープの変数でないとダメ。\n\n## 2. イテレートできるようなオブジェクトは'simple enumerable'ではない\n### `hash table mode`(あるいは`normalized objects`, `dictionary mode`)のオブジェクトは'simple enumerable'ではない。\n\n```javascript\nfunction hashTableIteration() {\n  var hashTable = {\"-\": 3};\n  for(var key in hashTable);\n}\n```\n\nこれわかりづらいのだけど、コンストラクタ外で動的に`hash table mode`のオブジェクトを作るのがよくないらしい。\n\nオブジェクトが`hash table mode`になっているかはコード内に`console.log(%HasFastProperties(obj))`を仕込んでnodeのオプションに`--allow-natives-syntax`を指定してやればいいらしい。\n\n\n### プロトタイプチェインで定義されたオブジェクトがenumerableなプロパティを持っている\n\n```javascript\nObject.prototype.fn = function() {};\n```\n\nプロトタイプチェインで追加した値は`for-in`文を含んでしまうらしい。\n\n`Object.defineProperty`を使えばそれは避けられるらしい。慣れていないと難しい話だ。\n\n### 配列のインデクスを持っている\nこれは結構やりがちかもしれない\n\n```javascript\nfunction iteratesOverArray() {\n  var arr = [1, 2, 3];\n  for (var index in arr) {\n\n  }\n}\n```\n\nそもそも`for-in`は`for`より遅いらしい。なおかつ`for-in`を含む関数は含んでいるというそれだけで関数全体の最適化がなされない。\n\nこれらの問題に対する処置としてキー名のリストを作ってしまえということだ。\n\n```javascript\nfunction inheritedKeys(obj) {\n  var ret = [];\n  for(var key in obj) {\n      ret.push(key);\n  }\n  return ret;\n}\n```\n\nまじかよ\n\n\n# 無限ループと曖昧な脱出の条件\n必ず一回はループを通るなら`do-while`使おう。あとはまあロジックを踏まえて適切にexit仕掛けようね。ということらしい。\n\n現場からは以上です。"
}},function(n,t){n.exports={title:"shellのパイプをpythonで実装",slug:"pipe",utime:1458563690,date:"2016/03/21 21:34:50",tags:["python"],publish:!0,body:"なんかふとできるかなと思って試してみたところ以下のような感じになりました。\n\n```python\nclass Pipable:\n    def __init__(self, cmd):\n        if callable(cmd):\n            self.cmd = cmd\n        else:\n            raise ValueError\n\n    def __ror__(self, other):\n        return self.cmd(other)\n\n    def __call__(self, *args):\n        return self.cmd(*args)\n\n\ndef cat(f):\n    with open(f) as fp:\n        data = fp.read()\n    return data\n\n\np1 = Pipable(cat)\np2 = Pipable(lambda x: x.upper())\np3 = Pipable(lambda x: '-'.join(x))\n\n\nraise p1('hoge.txt') == 'neko\\n'\nraise p1('hoge.txt') | p2 == 'NEKO\\n'\nraise p1('hoge.txt') | p2 | p3 == 'N-E-K-O-\\n'\n```\n\n要は`p3(p2(p1('hoge.txt')))`という状態にしてやればいいので(関数合成というやつ？)`__ror__`で左側の処理の結果を受け取るようにしました。\n\n実用性皆無マンです。"}},function(n,t){n.exports={title:"鉄道指向プログラミングをpythonで",slug:"rop",utime:1460642362,date:"2016/04/14 22:59:22",tags:["python"],publish:!0,body:"[Railway oriented programming](http://fsharpforfunandprofit.com/posts/recipe-part2/)を参考にpythonでも鉄道指向プログラミングを実装してみます。\n\nF#全くわらかないけど、どうやら[判別共用体](https://msdn.microsoft.com/ja-jp/library/dd233226.aspx)というやつで処理結果の型を持ち回るということらしいので、そんな風に書いてみます。\n\n```python\nfrom functools import partial\n\n\nclass TSuccess:\n    def __init__(self, result):\n        self.result = result\n\n    def __call__(self):\n        return self.result\n\n\nclass TFailure:\n    def __init__(self, msg):\n        self.msg = msg\n\n    def __call__(self):\n        return lambda : self.msg\n\n\ndef bind(switch_func, two_track_input):\n    if isinstance(two_track_input, TSuccess):\n        return switch_func(two_track_input())\n    elif isinstance(two_track_input, TFailure):\n        return two_track_input\n\n\ndef validate1(inp):\n    if inp.name == '':\n        return TFailure('input name.')\n    else:\n        return TSuccess(inp)\n\n\ndef validate2(inp):\n    if len(inp.name) > 50:\n        return TFailure('name length must be less than 50.')\n    else:\n        return TSuccess(inp)\n\n\ndef validate3(inp):\n    if inp.email == '':\n        return TFailure('input email.')\n    else:\n        return TSuccess(inp)\n\n\nclass Input:\n    def __init__(self, name, email):\n        self._name = name\n        self._email = email\n\n    @property\n    def name(self):\n        return self._name\n\n    @property\n    def email(self):\n        return self._email\n\n    def __call__(self):\n        return 'Success name={}, email={}'.format(self._name, self._email)\n\n\ndef combined_validation(inp):\n    result1 = validate1(inp)\n    result2 = bind(validate2, result1)\n    result3 = bind(validate3, result2)\n    return result3()()\n\n\nassert combined_validation(Input(name='', email='')) == 'input name.'\nassert combined_validation(Input(name='neko', email='')) == 'input email.'\nassert combined_validation(Input(name='neko', email='meow')) == 'Success name=neko, email=meow'\n```\n\nF#では`Result`という判別共用体に`Success`と`Failure`を持っていて、型によってディスパッチするみたいですが、pythonでこれを実現する方法がわからなかった。\n\nというか、これっていわゆるパターンマッチだと思うのでまあそれができればいいかということで`bind`で全てを丸く収めた感があります。"}},function(n,t){n.exports={title:"モジュールグローバルよりクラス変数の方がパフォーマンス的に有利",slug:"module-global-vs-class-variable",utime:1462419084,date:"2016/05/05 12:31:24",tags:["python"],publish:!0,body:"[falcon](http://falconframework.org/)のソース読んでたら[こんなの](https://github.com/falconry/falcon/blob/50fec0fd6dc6e0019099f11a001097e1baccc9ee/falcon/api.py#L128-L135)があった。\n\n```python\n...\n# PERF(kgriffs): Reference via self since that is faster than\n# module global...\n_BODILESS_STATUS_CODES = set([\n    status.HTTP_100,\n    status.HTTP_101,\n    status.HTTP_204,\n    status.HTTP_304\n])\n...\n```\n\nモジュールグローバルのインポートよりもクラス変数のアクセスの方が速いということらしい。\n\nパス探索やらのプロセスがなくなるんだから当たり前だと思うけどどの程度差があるのか気になったのでプロファイルとってみた。\n\n\n`module.py`\n\n```python\nvar = 'I am module global.'\n```\n\n`test.py`\n\n```python\nimport cProfile\n\n\nTRIAL = 100000\n\n\nclass A:\n    var = 'I am class variable'\n\n\ndef test_module_global():\n    for x in range(TRIAL):\n        from mod import var\n\n\ndef test_class_variable():\n    for x in range(TRIAL):\n        a = A()\n        a.var\n\n\nif __name__ == '__main__':\n    cProfile.run('test_module_global()')\n    cProfile.run('test_class_variable()')\n\n```\n\n10万回参照するということがあり得るのかわからないけど、試行回数は10万回とする。\n\n結果から言うと\n\nモジュールグローバルのインポートは\n> 200161 function calls (200160 primitive calls) in 0.185 seconds\n\nクラス変数のアクセスはインスタンスを作るのを含めても\n> 4 function calls in 0.016 seconds\n\nだった。\n\nまあ圧倒的にクラス変数の方が速い。\n\nけどもこれ別モジュールからこのクラスをインポートして使うとかだと大してコスト変わらん気がする。\n\n`falcon.API` は基本的にアプリケーションを実行するためのインスタンスを作るのが目的のオブジェクトなんだろうけどどうせインポートするしなぁ。謎"}},function(n,t){n.exports={title:"ES6で書いたコードをkarma+webpackでテスト",slug:"js-test-with-karma-webpack-es6",utime:1469803820,date:"2016/07/29 23:50:20",tags:["javascript"],publish:!0,body:"`webpack.config.js`がそのまま使えるのでES6向けの設定が非常に楽でした。その割には`karma webpack es6`とかでググっても情報が全然なくて悲しい。\n\n前準備として`npm i -D karam-webpack`をしておきます。\n\n```\n// karama.conf.js\nvar webpackConfig = require('./webpack.config.js');\n\nmodule.exports = function(config) {\n  config.set({\n    basePath: '',\n    frameworks: ['jasmine'],\n    files: [\n      'src/tests/**/*Spec.js'\n    ],\n    exclude: [],\n    preprocessors: {\n      'src/**/*.js': ['webpack'],\n      'src/tests/**/*Spec.js': ['webpack']\n    },\n    webpack: webpackConfig,\n    reporters: ['progress'],\n    port: 9876,\n    colors: true,\n    logLevel: config.LOG_INFO,\n    autoWatch: true,\n    browsers: ['PhantomJS'],\n    singleRun: false,\n    concurrency: Infinity\n  })\n}\n```\n\nこんな設定ファイルを用意して`karma test`を実行するだけでES6で書いたコードのテストが実行できます。\n`webpack.config.js`のエントリポイントをそのまま使っているのでインポートのパス探索を考える必要がないのが良いと思います。\n\n`browserify`の方が楽かと思ったけどこれはこれで問題ないかと。"}},function(n,t){n.exports={title:"mithriljsのコードを読む",slug:"reading-mithriljs",utime:1471866841,date:"2016/08/22 20:54:01",tags:["javascript","mithril"],publish:!0,body:'[mithriljs](https://github.com/lhorie/mithril.js/tree/0159cd667ad85cd82d92fcb31a33f75be6539f6d)のコード読む。\n\n現時点で`v0.2.5`だけど、コアな部分はそう変わらんだろう。コアなというのは、つまり`m.mount`とか。\n\nというわけで`mithril`がレンダリングする`m.mount`から読むことにしよう。(2000行程度なら単体のファイルは読むのが比較的楽ということが知られています)\n\n[ここ](https://github.com/lhorie/mithril.js/blob/0159cd667ad85cd82d92fcb31a33f75be6539f6d/mithril.js#L1475)\n```js\nm.mount = m.module = function (root, component) {\n  if (!root) {\n    throw new Error("Please ensure the DOM element exists before " +\n      "rendering a template into it.")\n  }\n  var index = roots.indexOf(root)\n  if (index < 0) index = roots.length\n  var isPrevented = false\n  var event = {\n    preventDefault: function () {\n      isPrevented = true\n      computePreRedrawHook = computePostRedrawHook = null\n    }\n  }\n  forEach(unloaders, function (unloader) {\n    unloader.handler.call(unloader.controller, event)\n    unloader.controller.onunload = null\n  })\n  if (isPrevented) {\n    forEach(unloaders, function (unloader) {\n      unloader.controller.onunload = unloader.handler\n    })\n  } else {\n    unloaders = []\n  }\n  if (controllers[index] && isFunction(controllers[index].onunload)) {\n    controllers[index].onunload(event)\n  }\n  return checkPrevented(component, root, index, isPrevented)\n}\n```\n`m.mount`がやってることはUnloadableControllerな場合に`unloader`のイベントハンドラを登録しているというだけ。\n注意を払わないといけないのは`event`内で定義されている`preventDefault`関数の中で`isPrevented`を巻き上げてる点だろうか。\n\nまあ、大したことはやっていないので`checkPrevented`を見てみる。\n\n[ここやで](https://github.com/lhorie/mithril.js/blob/0159cd667ad85cd82d92fcb31a33f75be6539f6d/mithril.js#L1437)\n\n```js\nfunction checkPrevented(component, root, index, isPrevented) {\n  if (!isPrevented) {\n    m.redraw.strategy("all")\n    m.startComputation()\n    roots[index] = root\n    var currentComponent\n    if (component) {\n      currentComponent = topComponent = component\n    } else {\n      currentComponent = topComponent = component = {controller: noop}\n    }\n    var controller = new (component.controller || noop)()\n    // controllers may call m.mount recursively (via m.route redirects,\n    // for example)\n    // 訳: controllersはm.mountを再帰的に呼び出し得る。(例えば、m.routeのリダイレクトを通じてとか)\n    // this conditional ensures only the last recursive m.mount call is\n    // applied\n    // 訳: この条件式はm.mountが呼び出す最後の再帰が適用されてるかを確かめてるだけ。\n    if (currentComponent === topComponent) {\n      controllers[index] = controller\n      components[index] = component\n    }\n    endFirstComputation()\n    if (component === null) {\n      removeRootElement(root, index)\n    }\n    return controllers[index]\n  } else {\n    if (component == null) {\n      removeRootElement(root, index)\n    }\n    if (previousRoute) {\n      currentRoute = previousRoute\n    }\n  }\n}\n```\n`isPrevented`でない場合、`m.redraw.strategy`は[`m.prop`](https://github.com/lhorie/mithril.js/blob/0159cd667ad85cd82d92fcb31a33f75be6539f6d/mithril.js#L1553)だから、`all`を初期値としてセット。\n`startComputation`を呼び出しているのでここでredrawのカウンタが始まる。\n\nComponentを作ってからControllerをインスタンス化してる。`currentComponent === topComponent`はよくわからん。`currentComponent = topComponent = ほにゃらら`って必ずどちらも通る分岐に書いてあるし、常にtrueになるんでは？\n\nで、[`endFirstComputation`](https://github.com/lhorie/mithril.js/blob/0159cd667ad85cd82d92fcb31a33f75be6539f6d/mithril.js#L1578)は`endComputation`に読み替えていい。\n\nここでこのDOMの描画のカウンタが終了した。初回の描画はとにかくComponentをインスタンス化するだけのようだ。詳しい描画処理については別の部分を見ないとダメみたいだ。(`endComputation`の`m.redraw`呼び出しなんだけど)\n\nあと、どうやら`m.mount(document.body)`が合法という事らしい。\n\n[`removeRootElement`](https://github.com/lhorie/mithril.js/blob/0159cd667ad85cd82d92fcb31a33f75be6539f6d/mithril.js#L1512)はメソッド名通り、DOM要素からControllerやComponent、仮想DOMのCacheなどを削除している。\n\nところで、描画の処理が全然わからないので続く。'}},function(n,t){n.exports={title:"mithriljsのコードを読む(2)",slug:"reading-mithriljs-2",utime:1472042534,date:"2016/08/24 21:42:14",tags:["javascript","mithril"],publish:!0,body:'さて、前回は`m.mount`の内容を見たところ、描画についてはわからなかった。\n\n`endComputation`内で呼んでいる`m.redraw`の正体を暴こう。\n\n[ここ](https://github.com/lhorie/mithril.js/blob/0159cd667ad85cd82d92fcb31a33f75be6539f6d/mithril.js#L1522)\n```javascript\nm.redraw = function (force) {\n  if (redrawing) return\n  redrawing = true\n  if (force) forcing = true\n  try {\n    // lastRedrawId is a positive number if a second redraw is requested\n    // before the next animation frame\n    // lastRedrawId is null if it\'s the first redraw and not an event\n    // handler\n    // 超意訳: lastRedrawIdはフレームの更新が必要な時に正の数値を持つ。\n    if (lastRedrawId && !force) {\n      // when setTimeout: only reschedule redraw if time between now\n      // and previous redraw is bigger than a frame, otherwise keep\n      // currently scheduled timeout\n      // when rAF: always reschedule redraw\n      // 超意訳: フレームの更新時間が規定を超えていれば更新する\n      if ($requestAnimationFrame === global.requestAnimationFrame ||\n          new Date() - lastRedrawCallTime > FRAME_BUDGET) {\n        if (lastRedrawId > 0) $cancelAnimationFrame(lastRedrawId)\n        lastRedrawId = $requestAnimationFrame(redraw, FRAME_BUDGET)\n      }\n    } else {\n      redraw()\n      lastRedrawId = $requestAnimationFrame(function () {\n        lastRedrawId = null\n      }, FRAME_BUDGET)\n    }\n  } finally {\n    redrawing = forcing = false\n  }\n}\n```\nここではフレームの更新有無を判定している。再描画処理の本体は`redraw`という内部関数のようだ。\n\n[ここ](https://github.com/lhorie/mithril.js/blob/0159cd667ad85cd82d92fcb31a33f75be6539f6d/mithril.js#L1554)\n```javascript\nfunction redraw() {\n  if (computePreRedrawHook) {\n    computePreRedrawHook()\n    computePreRedrawHook = null\n  }\n  forEach(roots, function (root, i) {\n    var component = components[i]\n    if (controllers[i]) {\n      var args = [controllers[i]]\n      m.render(root,\n        component.view ? component.view(controllers[i], args) : "")\n    }\n  })\n  // after rendering within a routed context, we need to scroll back to\n  // the top, and fetch the document title for history.pushState\n  // 訳: routeされているコンテキスト(うまく訳せない)内での描画後、ドキュメントのトップにスクロールする必要がある。\n  //     後history.pushStateするためのドキュメントのタイトルを取得する\n  if (computePostRedrawHook) {\n    computePostRedrawHook()\n    computePostRedrawHook = null\n  }\n  lastRedrawId = null\n  lastRedrawCallTime = new Date()\n  m.redraw.strategy("diff")\n}\n```\n溜め込まれた`roots`のviewを`m.render`に渡している。いよいよ核心に迫ってきた感出てきた。\n\n`computePreRedrawHook`と`computePostRedrawHook`は訳に書いてある処理をやっているだけ。描画が終われば`m.redraw.strategy`がdiffに更新されて、差分だけの更新になるわけだ。\n\n`m.render`を見てみよう。\n\n[ここ](https://github.com/lhorie/mithril.js/blob/0159cd667ad85cd82d92fcb31a33f75be6539f6d/mithril.js#L1316)\n```javascript\nm.render = function (root, cell, forceRecreation) {\n  if (!root) {\n    throw new Error("Ensure the DOM element being passed to " +\n      "m.route/m.mount/m.render is not undefined.")\n  }\n  var configs = []\n  var id = getCellCacheKey(root)\n  var isDocumentRoot = root === $document\n  var node\n\n  if (isDocumentRoot || root === $document.documentElement) {\n    node = documentNode\n  } else {\n    node = root\n  }\n\n  if (isDocumentRoot && cell.tag !== "html") {\n    cell = {tag: "html", attrs: {}, children: cell}\n  }\n\n  if (cellCache[id] === undefined) clear(node.childNodes)\n  if (forceRecreation === true) reset(root)\n\n  cellCache[id] = build(\n    node,\n    null,\n    undefined,\n    undefined,\n    cell,\n    cellCache[id],\n    false,\n    0,\n    null,\n    undefined,\n    configs)\n\n  forEach(configs, function (config) { config() })\n}\n```\n\nmithrilでは仮想DOMをcellと呼んでいるようで、`getCellCacheKey`はキャッシュされているrootの仮想DOMのidを取得している。\n\nで、nodeはまさにDOMのノードの事(まさに本当の意味でのDOMオブジェクト)で、キャッシュされていないDOMの場合、`clear`を呼び出している。\n\n```javascript\nfunction clear(nodes, cached) {\n  for (var i = nodes.length - 1; i > -1; i--) {\n    if (nodes[i] && nodes[i].parentNode) {\n      try {\n        nodes[i].parentNode.removeChild(nodes[i])\n      } catch (e) {\n        /* eslint-disable max-len */\n        // ignore if this fails due to order of events (see\n        // http://stackoverflow.com/questions/21926083/failed-to-execute-removechild-on-node)\n        /* eslint-enable max-len */\n      }\n      cached = [].concat(cached)\n      if (cached[i]) unload(cached[i])\n    }\n  }\n  // release memory if nodes is an array. This check should fail if nodes\n  // is a NodeList (see loop above)\n  if (nodes.length) {\n    nodes.length = 0\n  }\n}\n```\n\n`clear`は一番後ろの子ノードを親から削除している。ループ処理の対象の長さを変えてしまう倫理観は別の問題として、要するにこれは子ノードを一掃するだけの関数だ。\n\n`m.render`に戻ろう。\n\nようやくたどり着いた`build`がDOM作成の本体だ。\n\nこれがまたしんどそうなので次回'}},function(n,t){n.exports="2016/08/24/reading-mithriljs-2.yml 2016/08/22/reading-mithriljs.yml 2016/07/29/js-test-with-karma-webpack-es6.yml 2016/05/05/module-global-vs-class-variable.yml 2016/04/14/rop.yml 2016/03/21/pipe.yml 2016/03/19/v8-optimization.yml 2016/03/13/pyazo.yml 2016/02/26/expert-python-chapter3.yml 2016/02/21/mithrilify.yml 2016/02/14/moved-to-gh-page.yml"},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function i(n){var t=n.props;return(0,a["default"])("div#article-list-wrapper",[(0,a["default"])("div#article-list",t.map(function(n){return(0,a["default"])("div.title",[(0,a["default"])("a[href='/blog/article/"+n.href+"']",{config:a["default"].route},n.title),(0,a["default"])("span.post-date","("+n.date+")")])})),(0,a["default"])("div#footer-trans"),(0,a["default"])("div#footer",[(0,a["default"])('a[href="/"]',{config:a["default"].route},(0,a["default"])('img[src="../../../../assets/img/avatar.png"]'))])])}Object.defineProperty(t,"__esModule",{value:!0});var o=e(1),a=r(o);t["default"]=i},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var i=e(27),o=r(i),a=e(29),u=r(a);t["default"]={controller:o["default"],view:u["default"]}},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function i(){return{data:(0,l["default"])(a["default"].route.param("date"),a["default"].route.param("slug"))}}Object.defineProperty(t,"__esModule",{value:!0});var o=e(1),a=r(o),u=e(28),l=r(u);t["default"]=i},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function i(n,t){var e=a["default"].parseYaml(),r=l["default"].compact(e.map(function(e){return e.date.split(" ")[0]===n&&e.slug===t?e:void 0}));return r[0]}Object.defineProperty(t,"__esModule",{value:!0});var o=e(9),a=r(o),u=e(10),l=r(u);t["default"]=i},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function i(n){var t=n.data;return(0,a["default"])("section",[(0,a["default"])("header",[(0,a["default"])("h1",t.title),(0,a["default"])("div#description",t.description),(0,a["default"])("div#article-date",[(0,a["default"])('span.glyphicon.glyphicon-time[aria-hidden="true"]'),t.date]),(0,a["default"])("div#tags",t.tags.map(function(n){return(0,a["default"])("span.tag",(0,a["default"])("a[href='/blog/tag/"+n+"']",{config:a["default"].route},[(0,a["default"])('span.glyphicon.glyphicon-tag[aria-hidden="true"]'),n]))}))]),(0,a["default"])("article",[(0,a["default"])("div#utime='"+t.utime+"'",a["default"].trust((0,l["default"])(t.body)))]),(0,a["default"])("footer",[(0,a["default"])("div#back",[(0,a["default"])('a.btn.btn-default[href="/blog/"]',{config:a["default"].route},"back")])])])}Object.defineProperty(t,"__esModule",{value:!0});var o=e(1),a=r(o),u=e(30),l=r(u);l["default"].setOptions({gfm:!0}),t["default"]=i},function(n,t,e){(function(t){(function(){function t(n){this.tokens=[],this.tokens.links={},this.options=n||c.defaults,this.rules=f.normal,this.options.gfm&&(this.options.tables?this.rules=f.tables:this.rules=f.gfm)}function e(n,t){if(this.options=t||c.defaults,this.links=n,this.rules=h.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=h.breaks:this.rules=h.gfm:this.options.pedantic&&(this.rules=h.pedantic)}function r(n){this.options=n||{}}function i(n){this.tokens=[],this.token=null,this.options=n||c.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(n,t){return n.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(n){return n.replace(/&([#\w]+);/g,function(n,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function u(n,t){return n=n.source,t=t||"",function e(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),n=n.replace(r,i),e):new RegExp(n,t)}}function l(){}function s(n){for(var t,e,r=1;r<arguments.length;r++){t=arguments[r];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}return n}function c(n,e,r){if(r||"function"==typeof e){r||(r=e,e=null),e=s({},c.defaults,e||{});var a,u,l=e.highlight,f=0;try{a=t.lex(n,e)}catch(h){return r(h)}u=a.length;var p=function(n){if(n)return e.highlight=l,r(n);var t;try{t=i.parse(a,e)}catch(o){n=o}return e.highlight=l,n?r(n):r(null,t)};if(!l||l.length<3)return p();if(delete e.highlight,!u)return p();for(;f<a.length;f++)!function(n){return"code"!==n.type?--u||p():l(n.text,n.lang,function(t,e){return t?p(t):null==e||e===n.text?--u||p():(n.text=e,n.escaped=!0,void(--u||p()))})}(a[f])}else try{return e&&(e=s({},c.defaults,e)),i.parse(t.lex(n,e),e)}catch(h){if(h.message+="\nPlease report this to https://github.com/chjj/marked.",(e||c.defaults).silent)return"<p>An error occured:</p><pre>"+o(h.message+"",!0)+"</pre>";throw h}}var f={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:l,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:l,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:l,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};f.bullet=/(?:[*+-]|\d+\.)/,f.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,f.item=u(f.item,"gm")(/bull/g,f.bullet)(),f.list=u(f.list)(/bull/g,f.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+f.def.source+")")(),f.blockquote=u(f.blockquote)("def",f.def)(),f._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",f.html=u(f.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,f._tag)(),f.paragraph=u(f.paragraph)("hr",f.hr)("heading",f.heading)("lheading",f.lheading)("blockquote",f.blockquote)("tag","<"+f._tag)("def",f.def)(),f.normal=s({},f),f.gfm=s({},f.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),f.gfm.paragraph=u(f.paragraph)("(?!","(?!"+f.gfm.fences.source.replace("\\1","\\2")+"|"+f.list.source.replace("\\1","\\3")+"|")(),f.tables=s({},f.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=f,t.lex=function(n,e){var r=new t(e);return r.lex(n)},t.prototype.lex=function(n){return n=n.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(n,!0)},t.prototype.token=function(n,t,e){for(var r,i,o,a,u,l,s,c,h,n=n.replace(/^ +$/gm,"");n;)if((o=this.rules.newline.exec(n))&&(n=n.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(n))n=n.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(n))n=n.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(n))n=n.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(n))){for(n=n.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(n))n=n.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(n))n=n.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(n))n=n.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(n)){for(n=n.substring(o[0].length),a=o[2],this.tokens.push({type:"list_start",ordered:a.length>1}),o=o[0].match(this.rules.item),r=!1,h=o.length,c=0;h>c;c++)l=o[c],s=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(s-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+s+"}","gm"),"")),this.options.smartLists&&c!==h-1&&(u=f.bullet.exec(o[c+1])[0],a===u||a.length>1&&u.length>1||(n=o.slice(c+1).join("\n")+n,c=h-1)),i=r||/\n\n(?!\s*$)/.test(l),c!==h-1&&(r="\n"===l.charAt(l.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(l,!1,e),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(n))n=n.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!e&&t&&(o=this.rules.def.exec(n)))n=n.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(n))){for(n=n.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(o=this.rules.paragraph.exec(n)))n=n.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(n))n=n.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(n)throw new Error("Infinite loop on byte: "+n.charCodeAt(0));return this.tokens};var h={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:l,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:l,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};h._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,h._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,h.link=u(h.link)("inside",h._inside)("href",h._href)(),h.reflink=u(h.reflink)("inside",h._inside)(),h.normal=s({},h),h.pedantic=s({},h.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),h.gfm=s({},h.normal,{escape:u(h.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:u(h.text)("]|","~]|")("|","|https?://|")()}),h.breaks=s({},h.gfm,{br:u(h.br)("{2,}","*")(),text:u(h.gfm.text)("{2,}","*")()}),e.rules=h,e.output=function(n,t,r){var i=new e(t,r);return i.output(n)},e.prototype.output=function(n){for(var t,e,r,i,a="";n;)if(i=this.rules.escape.exec(n))n=n.substring(i[0].length),a+=i[1];else if(i=this.rules.autolink.exec(n))n=n.substring(i[0].length),"@"===i[2]?(e=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),r=this.mangle("mailto:")+e):(e=o(i[1]),r=e),a+=this.renderer.link(r,null,e);else if(this.inLink||!(i=this.rules.url.exec(n))){if(i=this.rules.tag.exec(n))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),n=n.substring(i[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):o(i[0]):i[0];else if(i=this.rules.link.exec(n))n=n.substring(i[0].length),this.inLink=!0,a+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(n))||(i=this.rules.nolink.exec(n))){if(n=n.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){a+=i[0].charAt(0),n=i[0].substring(1)+n;continue}this.inLink=!0,a+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(n))n=n.substring(i[0].length),a+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(n))n=n.substring(i[0].length),a+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(n))n=n.substring(i[0].length),a+=this.renderer.codespan(o(i[2],!0));else if(i=this.rules.br.exec(n))n=n.substring(i[0].length),a+=this.renderer.br();else if(i=this.rules.del.exec(n))n=n.substring(i[0].length),a+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(n))n=n.substring(i[0].length),a+=this.renderer.text(o(this.smartypants(i[0])));else if(n)throw new Error("Infinite loop on byte: "+n.charCodeAt(0))}else n=n.substring(i[0].length),e=o(i[1]),r=e,a+=this.renderer.link(r,null,e);return a},e.prototype.outputLink=function(n,t){var e=o(t.href),r=t.title?o(t.title):null;return"!"!==n[0].charAt(0)?this.renderer.link(e,r,this.output(n[1])):this.renderer.image(e,r,o(n[1]))},e.prototype.smartypants=function(n){return this.options.smartypants?n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):n},e.prototype.mangle=function(n){if(!this.options.mangle)return n;for(var t,e="",r=n.length,i=0;r>i;i++)t=n.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),e+="&#"+t+";";return e},r.prototype.code=function(n,t,e){if(this.options.highlight){var r=this.options.highlight(n,t);null!=r&&r!==n&&(e=!0,n=r)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(e?n:o(n,!0))+"\n</code></pre>\n":"<pre><code>"+(e?n:o(n,!0))+"\n</code></pre>"},r.prototype.blockquote=function(n){return"<blockquote>\n"+n+"</blockquote>\n"},r.prototype.html=function(n){return n},r.prototype.heading=function(n,t,e){return"<h"+t+' id="'+this.options.headerPrefix+e.toLowerCase().replace(/[^\w]+/g,"-")+'">'+n+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(n,t){var e=t?"ol":"ul";return"<"+e+">\n"+n+"</"+e+">\n"},r.prototype.listitem=function(n){return"<li>"+n+"</li>\n"},r.prototype.paragraph=function(n){return"<p>"+n+"</p>\n"},r.prototype.table=function(n,t){return"<table>\n<thead>\n"+n+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},r.prototype.tablerow=function(n){return"<tr>\n"+n+"</tr>\n"},r.prototype.tablecell=function(n,t){var e=t.header?"th":"td",r=t.align?"<"+e+' style="text-align:'+t.align+'">':"<"+e+">";return r+n+"</"+e+">\n"},r.prototype.strong=function(n){return"<strong>"+n+"</strong>"},r.prototype.em=function(n){return"<em>"+n+"</em>"},r.prototype.codespan=function(n){return"<code>"+n+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(n){return"<del>"+n+"</del>"},r.prototype.link=function(n,t,e){if(this.options.sanitize){try{var r=decodeURIComponent(a(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(i){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var o='<a href="'+n+'"';return t&&(o+=' title="'+t+'"'),o+=">"+e+"</a>"},r.prototype.image=function(n,t,e){var r='<img src="'+n+'" alt="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},r.prototype.text=function(n){return n},i.parse=function(n,t,e){var r=new i(t,e);return r.parse(n)},i.prototype.parse=function(n){this.inline=new e(n.links,this.options,this.renderer),this.tokens=n.reverse();for(var t="";this.next();)t+=this.tok();return t},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var n=this.token.text;"text"===this.peek().type;)n+="\n"+this.next().text;return this.inline.output(n)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var n,t,e,r,i,o="",a="";for(e="",n=0;n<this.token.header.length;n++)r={header:!0,align:this.token.align[n]},e+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:!0,align:this.token.align[n]});for(o+=this.renderer.tablerow(e),n=0;n<this.token.cells.length;n++){for(t=this.token.cells[n],e="",i=0;i<t.length;i++)e+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});a+=this.renderer.tablerow(e)}return this.renderer.table(o,a);case"blockquote_start":for(var a="";"blockquote_end"!==this.next().type;)a+=this.tok();
return this.renderer.blockquote(a);case"list_start":for(var a="",u=this.token.ordered;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,u);case"list_item_start":for(var a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(var a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},l.exec=l,c.options=c.setOptions=function(n){return s(c.defaults,n),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1},c.Parser=i,c.parser=i.parse,c.Renderer=r,c.Lexer=t,c.lexer=t.lex,c.InlineLexer=e,c.inlineLexer=e.output,c.parse=c,n.exports=c}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(t,function(){return this}())},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var i=e(32),o=r(i),a=e(35),u=r(a);t["default"]={controller:o["default"],view:u["default"]}},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function i(){return{props:(0,l["default"])(a["default"].route.param("name"))}}Object.defineProperty(t,"__esModule",{value:!0});var o=e(1),a=r(o),u=e(33),l=r(u);t["default"]=i},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function i(n){return{tag:n,data:a["default"][n]}}Object.defineProperty(t,"__esModule",{value:!0});var o=e(34),a=r(o);t["default"]=i},function(n,t){n.exports={javascript:[{path:"2016/08/24/reading-mithriljs-2",title:"mithriljsのコードを読む(2)"},{path:"2016/08/22/reading-mithriljs",title:"mithriljsのコードを読む"},{path:"2016/07/29/js-test-with-karma-webpack-es6",title:"ES6で書いたコードをkarma+webpackでテスト"},{path:"2016/03/19/v8-optimization",title:"V8で最適化されないjavascript"},{path:"2016/02/21/mithrilify",title:"github pagesの構成を変えた"}],misc:[{path:"2016/02/14/moved-to-gh-page",title:"github pagesに引越し"}],mithril:[{path:"2016/08/24/reading-mithriljs-2",title:"mithriljsのコードを読む(2)"},{path:"2016/08/22/reading-mithriljs",title:"mithriljsのコードを読む"},{path:"2016/02/21/mithrilify",title:"github pagesの構成を変えた"}],python:[{path:"2016/05/05/module-global-vs-class-variable",title:"モジュールグローバルよりクラス変数の方がパフォーマンス的に有利"},{path:"2016/04/14/rop",title:"鉄道指向プログラミングをpythonで"},{path:"2016/03/21/pipe",title:"shellのパイプをpythonで実装"},{path:"2016/03/13/pyazo",title:"Gyazo APIのクライアントを雑に作った"},{path:"2016/02/26/expert-python-chapter3",title:"pythonの__new__とかtypeなど"},{path:"2016/02/21/mithrilify",title:"github pagesの構成を変えた"}],webpack:[{path:"2016/02/21/mithrilify",title:"github pagesの構成を変えた"}]}},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function i(n){var t=n.props;return(0,a["default"])("div",[(0,a["default"])("div#tag-header",(0,a["default"])("h2",[(0,a["default"])('span.glyphicon.glyphicon-tag[aria-hidden="true"]'),t.tag])),(0,a["default"])("div#tag-list",t.data.map(function(n){return(0,a["default"])("div",[(0,a["default"])("a[href='/blog/article/"+n.path+"']",{config:a["default"].route},n.title)])}))])}Object.defineProperty(t,"__esModule",{value:!0});var o=e(1),a=r(o);t["default"]=i}]);